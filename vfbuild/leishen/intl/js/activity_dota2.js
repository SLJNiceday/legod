(function(t){function i(i){for(var s,o,r=i[0],c=i[1],p=i[2],_=0,d=[];_<r.length;_++)o=r[_],a[o]&&d.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);h&&h(i);while(d.length)d.shift()();return n.push.apply(n,p||[]),e()}function e(){for(var t,i=0;i<n.length;i++){for(var e=n[i],s=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(s=!1)}s&&(n.splice(i--,1),t=o(o.s=e[0]))}return t}var s={},a={activity_dota2:0},n=[];function o(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=s,o.d=function(t,i,e){o.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,i){if(1&i&&(t=o(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)o.d(e,s,function(i){return t[i]}.bind(null,s));return e},o.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(i,"a",i),i},o.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=i,r=r.slice();for(var p=0;p<r.length;p++)i(r[p]);var h=c;n.push([1,"chunk-vendors","chunk-common"]),e()})({1:function(t,i,e){t.exports=e("f013")},"88db":function(t,i,e){},f013:function(t,i,e){"use strict";e.r(i);e("a7cc"),e("450d");var s=e("df33"),a=e.n(s),n=(e("7514"),e("6b54"),e("55dd"),e("be4f"),e("896a")),o=e.n(n),r=(e("46a1"),e("e5f2")),c=e.n(r),p=(e("cadf"),e("551c"),e("f751"),e("097d"),e("9ab4")),h=(e("d16e"),e("76ca"),e("88db"),e("db4d"),e("60a3")),_=e("aaaf"),d=e("1189"),u=e("360e"),l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("el-dialog",{attrs:{visible:t.payDialogVisible,width:"420px",center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(i){t.payDialogVisible=i},close:t.onClosePyaDialog}},[e("keep-alive",[e(t.paycomponent,{ref:"paycomponentRef",tag:"component",attrs:{payobj:t.payObj,paytrans:t.payTrans},on:{paystep1:t.finishStep1,goback:t.goBack,paydone:t.payDoned}})],1)],1)},g=[],f=e("9347"),k=e("3c6c"),y=e("ebb9"),b=e("1831"),v=e("7d83"),m=e("20a8"),T=e("0c43"),w=e("9d9a");h["c"].use(a.a);var D=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.http=new b["a"],i.payDialogVisible=!1,i.userDiscountList=[],i.payTrans=new k["t"],i.payModal=new k["k"],i.discountList=[],i.showType=4,i.payObj=new k["j"],i.payType=1,i.zheCode="",i.activity_package_id=0,i}return p["c"](i,t),i.prototype.created=function(){this.setBaseUrl(y["a"].getBaseUrl()),"function"!==typeof window.performance.now&&(window.performance.now=function(){return+new Date-performance.timing.navigationStart})},i.prototype.init=function(){return p["a"](this,void 0,void 0,function(){var t;return p["d"](this,function(i){switch(i.label){case 0:return[4,this.getUserPackage()];case 1:return t=i.sent(),t?this.getUserDiscount():this.$emit("cannotbuy"),[2]}})})},i.prototype.getUserPackage=function(){return p["a"](this,void 0,void 0,function(){var t,i,e,s,a,n,o,r;return p["d"](this,function(c){switch(c.label){case 0:return t=v["a"].getUserToken().account_token,i=b["a"].URL_USER_PACKAGE,e={account_token:t,region_code:v["a"].getRegionCodes()},[4,this.http.post(i,e)];case 1:if(s=c.sent(),s.code==b["a"].HTTP_SUCCESS_NET_CODE){for(a=v["a"].getUserInfo(),n=s.data,o="1",r=0;r<n.length;r++)if(n[r].package_id==a.package_id){o=n[r].include_region_codes;break}return 1==a.is_switch_package?[2,!0]:"1"==o?[2,!0]:[2,!1]}return[2,!0]}})})},i.prototype.payLogout=function(){this.payDialogVisible=!1,this.$emit("loginout",w["a"].getTipsMsg(w["a"].KEY_NOTIF_LOGIN_FAILURE).toString())},i.prototype.getUserDiscount=function(){return p["a"](this,void 0,void 0,function(){var t,i,e,s;return p["d"](this,function(a){switch(a.label){case 0:return t=v["a"].getUserToken().account_token,i=b["a"].URL_USER_DISCOUNT,e={account_token:t,region_code:v["a"].getRegionCodes()},s=this,[4,this.http.post(i,e)];case 1:return s.backData=a.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?this.userDiscountList=this.backData.data:(this.backData.code,b["a"].HTTP_TOKEN_EXPIRE),[2]}})})},i.prototype.filterDisount=function(t){var i=this;this.discountList=[],this.userDiscountList.map(function(e){if(e.price_ids.length>0)for(var s=0;s<e.price_ids.length;s++)if(e.price_ids[s]==t.price_id)if(0==e.discount_type){var a=parseFloat(t.price_num)*e.discount_value;i.discountList.push({value:e.title,label:e.discount_code,money_unit_fen:a,expired_time:e.expired_time})}else i.discountList.push({value:e.title,label:e.discount_code,money_unit_fen:e.discount_value,expired_time:e.expired_time})}),this.discountList.length>0&&this.discountList.sort(function(t,i){return i.money_unit_fen-t.money_unit_fen})},i.prototype.setPayWay=function(t,i){var e=this;this.payDialogVisible=!0,this.payTrans.price_id=i.price_id,this.payTrans.price_num=i.price_num,this.payTrans.price_title=i.price_title,this.activity_package_id=t,this.filterDisount(this.payTrans),this.payTrans.zheCodeList=this.discountList,this.$nextTick(function(){e.$refs.paycomponentRef.init()})},i.prototype.onBuyActivityPackage=function(){return p["a"](this,void 0,void 0,function(){var t,i,e,s,a;return p["d"](this,function(n){switch(n.label){case 0:return t=f["a"].getUrlParam("refer_code"),i=b["a"].URL_USER_PACKAGE_BUY,e=v["a"].getUserToken().account_token,s=new k["k"],s.account_token=e,s.invoice_from=s.switchFrom(0),s.package_id=this.activity_package_id,s.pay_type=this.payType,2==this.payType&&(s.qr_type="ali_qr"),s.price_id=this.payTrans.price_id,s.pay_plat=1,s.src_channel=v["a"].getSrcChannel(),s.os_type=localStorage.getItem(v["a"].STORAGES_OS_TYPE),t&&(s.refer_code=t),""!=this.zheCode&&null!=this.zheCode&&(s.discount_code=this.zheCode),a=this,[4,this.http.post(i,s)];case 1:return a.backData=n.sent(),this.payObj.pay_url="",this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?(this.payObj=this.backData.data,this.onBeginpaySuccess()):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE?this.payLogout():this.onBeginpayError(this.backData.msg),[2]}})})},Object.defineProperty(i.prototype,"paycomponent",{get:function(){switch(this.showType){case 4:return"pay-step1";case 5:return"pay-step2"}},enumerable:!0,configurable:!0}),i.prototype.finishStep1=function(t,i){this.payType=t,this.zheCode=i,this.onBuyActivityPackage()},i.prototype.onBeginpaySuccess=function(){var t=this;this.showType=5,5==this.payType&&(window.location.href=this.payObj.pay_url),this.payObj.payType=this.payType,setTimeout(function(){t.$refs.paycomponentRef.init()},0)},i.prototype.onBeginpayError=function(t){this.$notify({title:w["a"].getTipsMsg(w["a"].KEY_NOTIF_ERROR_TITLE),message:t,type:"warning"})},i.prototype.payDoned=function(){this.showType=4,this.payDialogVisible=!1,this.$emit("paysuccess")},i.prototype.onClosePyaDialog=function(){this.payObj=new k["j"],5==this.showType&&(this.$refs.paycomponentRef.onClose(),this.showType=4)},i.prototype.goBack=function(){this.$refs.paycomponentRef.onClose(),this.showType=4},i.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},i=p["b"]([Object(h["a"])({components:{"pay-step1":m["a"],"pay-step2":T["a"]}})],i),i}(h["c"]),E=D,L=E,C=e("2877"),S=Object(C["a"])(L,l,g,!1,null,null,null),U=S.exports,x=e("caf4"),R=e("a925"),P=e("b9c5"),I=e("3435"),z=(e("e7e5"),e("d399")),O=e("65d9"),A=e.n(O),j=e("a026"),N=e("a306"),B=e("b311"),$=e.n(B),M=e("1157"),H=e.n(M),K=e("ea9a"),V=e("a123"),F=e("d939");j["default"].use(z["a"]);var G=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.tipNotKaishi="活动暂未开始",i.tipisjieshu="活动已经结束",i.tipinvalidUser="当前活动只针对雷神超级会员，海外会员暂不可参与!",i.http=new b["a"],i.isLoading=!1,i.activity_id=0,i.isKaishi=!0,i.isJieshu=!1,i.isValidUser=!0,i.activity_ErrorTip="",i.activity_json=null,i.activityDetails=null,i.points=0,i.aCount=0,i.clock=new N["k"],i.canbuyTwice=!1,i.needtoCheck=!0,i.luck=new K["a"],i.roll_deg=0,i.kp_index=0,i.isBengin=!1,i.awardInfo=null,i.prize_name="",i.prize_id=-1,i.refer_code_link="邀请链接",i.refer_code="邀请码",i.myReferList=[],i.dialog_error=!1,i.dialog_msg="",i.dialog_recharge=!1,i.dialog_win=!1,i.tabIndex=0,i.joinleftfix=0,i.priceList=[],i.paytrans=new k["t"],i.awardList=[],i.imageHeadUrl="",i.awardRecordList=[],i.dialog_copy_ref_link=!1,i.dialog_copy_ref=!1,i.prize_img="",i.kp_list=[{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1}],i}return p["c"](i,t),i.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},i.prototype.canClick=function(){return!(!this.isKaishi||this.isJieshu||!this.isValidUser)||(this.isKaishi?this.isJieshu?this.activity_ErrorTip=this.tipisjieshu:this.activity_ErrorTip=this.tipinvalidUser:this.activity_ErrorTip=this.tipNotKaishi,!1)},i.prototype.checkEnvironment=function(){},i.prototype.getUserInfo=function(t){return p["a"](this,void 0,void 0,function(){var i,e,s,a;return p["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),this.isLoading=!0,i=f["a"].getUrlParam("account_token")||v["a"].getUserToken().account_token,""!=i?[3,1]:(this.tokenExpired(),[3,3]);case 1:return e=b["a"].URL_USER_INFO,s={account_token:i},a=this,[4,this.http.post(e,s)];case 2:a.backData=n.sent(),this.isLoading=!1,this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?(k["p"].getUserName(this.backData.data),k["p"].getUserAvatar(this.backData.data),k["p"].updateUserInfo(this.backData.data),this.needtoCheck&&this.checkisBinbMobile(this.backData.data,t),this.getUserinfoSuccess()):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():this.getUserinfoFail(this.backData),n.label=3;case 3:return[3,5];case 4:return n.sent(),[3,5];case 5:return[2]}})})},i.prototype.getUserinfoSuccess=function(){},i.prototype.getUserinfoFail=function(t){},i.prototype.tokenExpired=function(){},i.prototype.checkisBinbMobile=function(t,i){var e;if(e=t?Object.assign({},t):v["a"].getUserInfo(),e&&1==e.region_code&&""==e.mobile)if("app"==i)Object(z["a"])("为确保您账户的安全及正常使用，依《网络安全法》相关要求，即日起个人账户需绑定手机。"),setTimeout(function(){V["a"].gotoLogin("bind=bindMobile")},2e3);else if("pc"==i){var s=this.$t("public.share67").toString(),a=this.$t("public.share68").toString(),n=this.$t("public.share69").toString();this.$alert(a,s,{confirmButtonText:n,showClose:!1,customClass:"llz_bindMobile",callback:function(t){F["a"].webGotoUser(y["a"].getUserBaseUrl(),F["a"].HTML_NAME_LOGIN,"bind=bindMobile&to="+window.location.href)}})}},i.prototype.getReferActivitys=function(){return p["a"](this,void 0,void 0,function(){var t,i,e,s,a,n,o;return p["d"](this,function(r){switch(r.label){case 0:return t=b["a"].URL_USER_REFER_ACTIVITY,i={account_token:v["a"].getUserToken().account_token},e=this,[4,this.http.get(t,i)];case 1:if(e.backData=r.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE){for(o in s=this.backData.data,a=null,n=null,s)if(a=s[o].activity_info,n=s[o].user_code,a.id==this.activity_id){n.length<=0?this.getRefercode(a.type):(this.refer_code=n.refer_code,this.generateRefercodeLink(this.refer_code));break}}else this.backData.code==b["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired();return[2]}})})},i.prototype.getRefercode=function(t){return p["a"](this,void 0,void 0,function(){var i,e,s;return p["d"](this,function(a){switch(a.label){case 0:return i=b["a"].URL_USER_REFER,e=new k["o"],e.activity_id=this.activity_id,e.type=t,e.account_token=v["a"].getUserToken().account_token,s=this,[4,this.http.post(i,e)];case 1:return s.backData=a.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE&&(this.refer_code=this.backData.data.refer_code,this.generateRefercodeLink(this.refer_code)),[2]}})})},i.prototype.generateRefercodeLink=function(t){},i.prototype.getActivityDetail=function(){return p["a"](this,void 0,void 0,function(){var t,i,e,s,a,n;return p["d"](this,function(o){switch(o.label){case 0:return 0==this.activity_id?[2]:(t=b["a"].URL_ACTIVITY_DETAIL+this.activity_id,i=new N["a"],i.type=1,i.id=this.activity_id,i.plat_type=1,i.region_code=v["a"].getRegionCodes(),i.account_token=v["a"].getUserToken().account_token,e=this,[4,this.http.get(t,i)]);case 1:return e.backData=o.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?(this.activityDetails=this.backData.data.detail,this.points=this.backData.data.points,s=(new Date).getTime(),a=new Date(f["a"].formateTime(this.backData.data.detail.end_time)).getTime(),n=new Date(f["a"].formateTime(this.backData.data.detail.start_time)).getTime(),s>=a?(this.dialog_msg=this.tipisjieshu,this.dialog_error=!0,this.isJieshu=!0):s<n&&(this.dialog_msg=this.tipNotKaishi,this.dialog_error=!0,this.isKaishi=!1),this.getActivityDetailSuccess(this.backData.data.detail),this.getActivityCount()):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getActivityDetailSuccess=function(t){},i.prototype.getActivityCount=function(){this.aCount=Math.floor(this.points/this.activityDetails.fee)},i.prototype.getActivityPackage=function(t){return p["a"](this,void 0,void 0,function(){var i,e;return p["d"](this,function(s){switch(s.label){case 0:return i=new N["d"],i.activity_id=this.activity_id,i.lang="zh_CN",i.region_code=1,i.account_token=v["a"].getUserToken().account_token,e=this,[4,this.http.get(t,i)];case 1:return e.backData=s.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?this.getActivityPackageSuccess(this.backData.data[0]):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getActivityPackageSuccess=function(t){},i.prototype.paySuccess=function(){},i.prototype.getAwardList=function(){return p["a"](this,void 0,void 0,function(){var t,i,e,s,a;return p["d"](this,function(n){switch(n.label){case 0:return t=b["a"].URL_ACTIVITY_PRESENT_LIST,i=new N["i"],i.activity_id=this.activity_id,i.present_type=0,i.size=50,e=this,[4,this.http.post(t,i)];case 1:if(e.backData=n.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE){for(s in this.awardList=this.backData.data.list,this.awardList)a="",""==a&&""!=this.awardList[s]["nickname"]&&(a=this.awardList[s]["nickname"]),""==a&&""!=this.awardList[s]["mobile_num"]&&(a=this.awardList[s]["mobile_num"]),""==a&&""!=this.awardList[s]["mail"]&&(a=this.awardList[s]["mail"]),""==a&&""!=this.awardList[s]["user_name"]&&(a=this.awardList[s]["user_name"]),this.awardList[s]["nickname"]=a;this.getAwardListSuccess()}return[2]}})})},i.prototype.getAwardListSuccess=function(){this.initAwardList()},i.prototype.initAwardList=function(){},i.prototype.getReferList=function(t){return p["a"](this,void 0,void 0,function(){var i,e,s;return p["d"](this,function(a){switch(a.label){case 0:return i=b["a"].URL_ACTIVITY_REFER_LIST,e=new N["j"],e.account_token=v["a"].getUserToken().account_token,e.activity_id=this.activity_id,e.type=t,s=this,[4,this.http.post(i,e)];case 1:return s.backData=a.sent(),this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?(this.myReferList=this.backData.data.list,this.getReferListSuccess()):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getReferListSuccess=function(){},i.prototype.onDraw=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=0),p["a"](this,void 0,void 0,function(){var e,s,a,n,o;return p["d"](this,function(r){switch(r.label){case 0:return e=b["a"].URL_ACTIVITY_DRAW,s=v["a"].getUserToken().account_token,a=new N["b"],a.activity_id=this.activity_id,a.account_token=s,n=this,[4,this.http.post(e,a)];case 1:return n.backData=r.sent(),o=this,this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?(this.awardInfo=this.backData.data,setTimeout(function(){o.onDrawWin(o.backData)},t)):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE?(this.tokenExpired(),this.isBengin=!1):setTimeout(function(){o.onDrawLose(o.backData)},i),[2]}})})},i.prototype.onDrawWin=function(t){var i=this;if(1==this.activity_json.choujiang_type&&(this.luck.speed=100,this.roll()),0==this.activity_json.choujiang_type&&(this.isBengin=!1,this.dialog_win=!0,this.prize_name=t.data.title,this.prize_id=t.data.present_id),2==this.activity_json.choujiang_type){var e=Math.ceil(3*Math.random())+5,s=0;switch(t.data.present_id){case 109:s=0+0*Math.random();break;case 108:s=0+0*Math.random()+60;break;case 107:s=0+0*Math.random()+120;break;case 106:s=0+0*Math.random()+180;break;case 105:s=0+0*Math.random()+240;break;case 110:s=0+0*Math.random()+300;break}this.roll_deg=this.roll_deg+(360-this.roll_deg%360)+360*e+s,H()("#roll_table").css({transform:"rotate("+this.roll_deg+"deg)",transition:"4s"}),setTimeout(function(){i.dialog_win=!0,i.isBengin=!1},4e3),this.prize_name=t.data.title,this.prize_id=t.data.present_id}if(3==this.activity_json.choujiang_type){if(-1!=f["a"].getOrigin().indexOf("localhost")||f["a"].isMobile())switch(t.data.present_id){case 83:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize01.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 82:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize02.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 80:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize03.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 79:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize04.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 81:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize05.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 78:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize06.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break}else switch(t.data.present_id){case 83:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize01.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 82:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize02.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 80:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize03.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 79:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize04.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 81:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize05.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 78:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize06.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break}setTimeout(function(){i.dialog_win=!0,i.isBengin=!1},1500),this.prize_name=t.data.title,this.prize_id=t.data.present_id}this.points=t.data.points,this.getActivityCount()},i.prototype.onDrawLose=function(t){this.isBengin=!1,this.dialog_error=!0,this.dialog_msg=t.msg,this.points=t.data.points,this.getActivityCount()},i.prototype.onClickAward=function(){},i.prototype.changeTabPage=function(t){},i.prototype.onClickGuize=function(){},i.prototype.onCloseGuize=function(){},i.prototype.onCloseRecharge=function(){this.dialog_recharge=!1,H()("body").removeClass("body_fixed")},i.prototype.closeDialog=function(){this.dialog_msg="",this.dialog_win=!1,this.dialog_error=!1,H()("body").removeClass("body_fixed")},i.prototype.onCloseNologin=function(){},i.prototype.continueDraw=function(){this.isBengin=!1,this.dialog_win=!1,this.dialog_msg=""},i.prototype.copyRefercodeLink=function(){if(f["a"].easyIsLogined()){var t=this,i=new $.a("#copyRefercodeLink",{text:function(){return t.refer_code_link}});i.on("success",function(i){i.clearSelection(),t.dialog_error=!0,t.dialog_msg="邀请链接已复制到剪切板！快去邀请好友注册获取抽奖机会吧！"})}else this.gotoLogin()},i.prototype.copyRefercode=function(){if(f["a"].easyIsLogined()){var t=this,i=new $.a("#copyRefercode",{text:function(){return t.refer_code}});i.on("success",function(i){i.clearSelection(),t.dialog_error=!0,t.dialog_msg="邀请码已复制到剪切板！快去邀请好友注册获取抽奖机会吧！"})}else this.gotoLogin()},i.prototype.pageScroll=function(t){var i=f["a"].scroll().top;this.joinleftfix=i<t?0:1},i.prototype.gotoLogin=function(){},i.prototype.gotoRecharge=function(t){},i.prototype.onClickDraw=function(){if(!this.isBengin){if(f["a"].easyIsLogined())return this.aCount<=0?(H()("body").addClass("body_fixed"),void(this.dialog_recharge=!0)):void(this.canClick()?(this.isBengin=!0,this.onDraw(1e3,1e3)):(this.dialog_msg=this.activity_ErrorTip,this.dialog_error=!0));this.gotoLogin()}},i.prototype.roll=function(){if(this.luck.times+=1,this.luck.roll(),this.luck.times>this.luck.cycle+10&&this.luck.prize==this.luck.index){clearTimeout(this.luck.timer),this.luck.prize=-1,this.luck.times=0;var t=this;setTimeout(function(){H()("body").addClass("body_fixed"),t.isBengin=!1,t.dialog_win=!0,t.dialog_msg=t.awardInfo.title,t.prize_name=t.awardInfo.title},500)}else{if(this.luck.times<this.luck.cycle)this.luck.speed-=10;else if(this.luck.times==this.luck.cycle){var i=4;switch(this.awardInfo.present_id){case 94:i=0;break;case 92:i=1;break;case 93:i=2;break;case 95:i=3;break;case 97:i=4;break;case 91:i=5;break;case 98:i=6;break;case 96:i=7;break;default:break}this.luck.prize=i}else this.luck.times>this.luck.cycle+10&&0==this.luck.prize&&7==this.luck.index||this.luck.prize==this.luck.index+1?this.luck.speed+=110:this.luck.speed+=20;this.luck.speed<40&&(this.luck.speed=40),this.luck.timer=setTimeout(this.roll,this.luck.speed)}return!1},i=p["b"]([A.a],i),i}(j["default"]),Y=G,X=e("2e54");h["c"].config.productionTip=!1,h["c"].prototype.$notify=c.a,h["c"].use(o.a),h["c"].use(R["a"]);P["a"].getInstace(f["a"].REGION_CODE_1,f["a"].ZH_CN);var J=I["a"].getInstance();J.init();var W=new R["a"](J),q=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.activity_id=220,i.activity_json=X["a"].getInstace("pc",i.activity_id),i.webParam=P["a"].getInstace(),i.isLoading=!1,i.activityPackageId=0,i.canbuyTwice=!0,i.currentPacakge=new k["q"],i}return p["c"](i,t),i.prototype.created=function(){return p["a"](this,void 0,void 0,function(){return p["d"](this,function(t){return this.imageHeadUrl=y["a"].getImgBaseUrl(),this.setBaseUrl(y["a"].getBaseUrl()),f["a"].checkIsMobile(),this.getUserInfo("pc"),this.getActivityDetail(),this.getActivityPackage(b["a"].URL_ACTIVITY_SPECIAL_PACKAGE),[2]})})},i.prototype.mounted=function(){return p["a"](this,void 0,void 0,function(){var t=this;return p["d"](this,function(i){return window.onscroll=function(){t.pageScroll(942)},this.getAwardList(),[2]})})},i.prototype.getActivityPackageSuccess=function(t){this.activityPackageId=t.package_id;var i=t.price.sort(function(t,i){return i.price_is_recommend-t.price_is_recommend});this.currentPacakge=t,this.currentPacakge.price=i.slice(0)},i.prototype.logined=function(){return p["a"](this,void 0,void 0,function(){return p["d"](this,function(t){return this.needtoCheck=!1,this.getUserInfo("pc"),this.getActivityDetail(),[2]})})},i.prototype.paySuccess=function(){this.getActivityDetail(),this.canbuyTwice&&this.$refs.to_recharge.getUserDiscount()},i.prototype.logout=function(){this.aCount=0},i.prototype.cannotBuy=function(){this.dialog_error||(this.isValidUser=!1,this.dialog_error=!0,this.dialog_msg=this.tipinvalidUser)},i.prototype.getUserinfoSuccess=function(){this.$refs.headnav.checkLogin(),this.$refs.to_recharge.init()},i.prototype.getUserinfoFail=function(t){this.$notify({title:"温馨提示",message:t.msg.toString(),type:"warning"}),this.$refs.headnav.isLogin=!1},i.prototype.initAwardList=function(){this.awardList.length<=10||H()(function(){setInterval(function(){var t=H()("#jilu_box");t.animate({marginTop:"-30px"},400,function(){t.find("li").eq(0).appendTo(t),t.css("margin-top","0")})},2e14)})},i.prototype.onClickAward=function(){f["a"].easyIsLogined()?this.isKaishi&&!this.isJieshu?(this.closeDialog(),this.$refs.activeRecordList.recordDialogVisible=!0,this.$refs.activeRecordList.initA()):(this.isKaishi?this.dialog_msg="活动以结束":this.dialog_msg="活动暂未开始",this.dialog_error=!0):this.gotoLogin()},i.prototype.gotoLogin=function(){H()("body").removeClass("body_fixed"),f["a"].easyIsLogined()||this.$refs.headnav.toLogin()},i.prototype.gotoRecharge=function(t){f["a"].easyIsLogined()?this.canClick()?(this.paytrans.price_id=t.price_id,this.paytrans.price_num=t.price_num,this.paytrans.price_title=t.price_title,this.$refs.to_recharge.setPayWay(this.activityPackageId,this.paytrans)):this.dialog_error||(this.dialog_error=!0,this.dialog_msg=this.activity_ErrorTip):this.gotoLogin()},i.prototype.tokenExpired=function(){v["a"].loginOut(),this.$refs.headnav.checkLogin()},i.prototype.onChangeLanguage=function(t){J.changeLanguage(t),W.locale=J.locale,this.webParam.language=t},i=p["b"]([Object(h["a"])({components:{"head-nav":_["a"],"foot-nav":d["a"],"recharge-dialog":U,"record-dialog":x["a"],"el-dialog":a.a,"download-box":u["a"]}})],i),i}(Y);new q({i18n:W}).$mount("#app")}});