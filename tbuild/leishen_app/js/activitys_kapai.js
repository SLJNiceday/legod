(function(e){function t(t){for(var i,r,s=t[0],c=t[1],u=t[2],f=0,g=[];f<s.length;f++)r=s[f],o[r]&&g.push(o[r][0]),o[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);h&&h(t);while(g.length)g.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},o={activitys_kapai:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var h=c;a.push([5,"chunk-vendors","chunk-common"]),n()})({5:function(e,t,n){e.exports=n("5930")},5930:function(e,t,n){"use strict";n.r(t);n("55dd"),n("6b54"),n("4917"),n("e7e5");var i=n("d399"),o=(n("8a58"),n("e41f")),a=(n("cadf"),n("551c"),n("f751"),n("097d"),n("9ab4")),r=(n("4394"),n("db4d"),n("60a3")),s=n("a925"),c=n("1157"),u=n.n(c),h=n("b311"),f=n.n(h),g=n("1396"),d=n("82f5"),p=n("9347"),l=n("7d83"),_=n("0a56"),m=n("2e54"),v=n("dfdf"),y=n("a123"),k=n("ce89"),b=n("1831"),w=n("3c6c"),I=n("255e");r["c"].use(o["a"]),r["c"].use(i["a"]),r["c"].config.productionTip=!1,r["c"].use(s["a"]);var P=v["a"].getInstace(p["a"].REGION_CODE_1,p["a"].ZH_CN),U=g["a"].getInstance();U.init();var T=new s["a"](U),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activity_id=200,t.isLoading=!1,t.activity_json=m["a"].getInstace("mobile",t.activity_id),t.appParam=v["a"].getInstace(),t.chooseinfo=new w["w"],t.choosePriceInfo=new w["r"],t.show_recharge=!1,t.package_index=1,t.pay_user_num=0,t.game_num01=1800,t.game_num02=1800,t.game_num03=1800,t}return a["c"](t,e),t.prototype.created=function(){this.activityJson=this.activity_json,this.imageHeadUrl=d["a"].getImgBaseUrl(),this.account_token=l["a"].getUserToken().account_token,this.chooseinfo=l["a"].getUserInfo(),this.setBaseUrl(d["a"].getBaseUrl()),this.checkEnvironment(),this.getPriceList(),this.getActivityId(),this.getActivityDetail(),this.getReferActivitys(),this.changePackageIndex(1),this.getUserInfo(),""==this.account_token&&(this.refer_code="请先登录!",this.refer_code_link="请先登录!")},t.prototype.getActivityDetailSuccess=function(e){var t=this,n=(new Date).getTime(),i=!0;n>new Date(p["a"].formateTime(e.end_time)).getTime()&&(n=new Date(p["a"].formateTime(e.end_time)).getTime(),i=!1),n<new Date(p["a"].formateTime(e.start_time)).getTime()&&(n=new Date(p["a"].formateTime(e.start_time)).getTime(),i=!1);var o=new Date(p["a"].formateTime(e.start_time)).getTime();this.pay_user_num=Math.floor((n-o)/1e4)+Math.floor(20*Math.random()+180),this.game_num01=1800-Math.floor((n-o)/102e4)+Math.round(10*Math.random()),this.game_num02=this.game_num01+Math.round(10*(2*Math.random()-1)),this.game_num03=this.game_num01+Math.round(10*(2*Math.random()-1)),this.game_num01<=0&&(this.game_num01=0),this.game_num02<=0&&(this.game_num02=0),this.game_num03<=0&&(this.game_num03=0),i&&setInterval(function(){t.pay_user_num+=1+Math.round(Math.random())},15e3)},t.prototype.checkEnvironment=function(){u()(function(){var e=navigator.userAgent,t=(e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),window.navigator.userAgent.toLowerCase());"micromessenger"==t.match(/MicroMessenger/i)&&(P.platform=4)})},t.prototype.getPriceList=function(){return a["a"](this,void 0,void 0,function(){var e,t;return a["d"](this,function(n){switch(n.label){case 0:return e=l["a"].getLanguage().toString(),[4,I["a"].getInstance().getRechargeJson(d["a"].getWebBaseUrl())];case 1:return t=n.sent(),this.priceList=t[this.appParam.region_code+"__"+e].price,this.priceList.sort(function(e,t){return t.price_is_recommend-e.price_is_recommend}),this.choosePriceInfo=this.priceList[0],[2]}})})},t.prototype.getUserInfo=function(){return a["a"](this,void 0,void 0,function(){var e,t,n,i;return a["d"](this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),this.isLoading=!0,e=p["a"].getUrlParam("account_token")||l["a"].getUserToken().account_token,""!=e?[3,1]:(this.tokenExpired(),[3,3]);case 1:return t=b["a"].URL_USER_INFO,n={account_token:e},i=this,[4,this.http.post(t,n)];case 2:i.backData=o.sent(),this.isLoading=!1,this.backData.code==b["a"].HTTP_SUCCESS_NET_CODE?(this.userInfo=this.backData.data,w["w"].getUserName(this.userInfo),w["w"].getUserAvatar(this.userInfo),w["w"].updateUserInfo(this.userInfo),this.checkisBinbMobile(this.userInfo,"app")):this.backData.code==b["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():this.getUserinfoFail(this.backData),o.label=3;case 3:return[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}})})},t.prototype.getUserinfoFail=function(e){this.tokenExpired()},t.prototype.changePackageIndex=function(e){this.package_index=e},t.prototype.clickReverse=function(e){this.isBengin||(this.kp_index=e,this.onClickDraw())},t.prototype.onClickDraw=function(){if(!this.isBengin){if(""==this.account_token)return u()("body").addClass("body_fixed"),void(this.dialog_no_login=!0);if(this.aCount<=0)return u()("body").addClass("body_fixed"),void(this.dialog_recharge=!0);this.isBengin=!0,this.onDraw(0,1e3)}},t.prototype.gotoRecharge=function(e){return a["a"](this,void 0,void 0,function(){var t;return a["d"](this,function(n){switch(n.label){case 0:return t=p["a"].getUrlParam("account_token")||l["a"].getUserToken().account_token,""!=t?[3,1]:(this.dialog_no_login=!0,[2]);case 1:return[4,this.$refs.to_recharge.getUserInfo()];case 2:n.sent(),this.choosePriceInfo=e,4!=this.appParam.platform?(this.dialog_recharge=!1,this.show_recharge=!this.show_recharge,u()("body").removeClass("body_fixed")):4===this.appParam.platform&&this.$refs.to_recharge.defaultPay(e),n.label=3;case 3:return[2]}})})},t.prototype.gotoInvite=function(){this.onCloseRecharge(),window.location.href="#step1"},t.prototype.generateRefercodeLink=function(e){this.refer_code_link=d["a"].getWebBaseUrl()+"/leigod/kapai.html?refer_code="+e},t.prototype.copyRefercodeLink=function(){if(""!=this.account_token){var e=this,t=new f.a("#copyRefercodeLink",{text:function(){return e.refer_code_link}});t.on("success",function(t){t.clearSelection(),e.dialog_error=!0,e.dialog_msg="邀请链接已复制到剪切板！快去邀请好友充值获取时长卡吧！"})}else this.dialog_no_login=!0},t.prototype.gotoRecord=function(){if(""!=this.account_token){var e="platform="+this.appParam.platform+"&pageIndex=5";y["a"].gotoCenter(e)}else this.dialog_no_login=!0},t.prototype.gotoLogin=function(){var e=p["a"].getUrlParam("refer_code"),t="";t="platform="+this.appParam.platform+"&state_html=activitys/kapai&refer_code="+e,y["a"].gotoLogin(t)},t.prototype.tokenExpired=function(e){void 0===e&&(e=null),l["a"].loginOut(),this.account_token="",this.userInfo=null,this.refer_code="请先登录!",this.refer_code_link="请先登录!"},t=a["b"]([Object(r["a"])({components:{"recharge-dialog":k["a"]}})],t),t}(_["a"]);new x({i18n:T}).$mount("#app")}});