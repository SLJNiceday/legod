(function(t){function i(i){for(var o,s,r=i[0],c=i[1],h=i[2],d=0,_=[];d<r.length;d++)s=r[d],a[s]&&_.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(i);while(_.length)_.shift()();return n.push.apply(n,h||[]),e()}function e(){for(var t,i=0;i<n.length;i++){for(var e=n[i],o=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(o=!1)}o&&(n.splice(i--,1),t=s(s.s=e[0]))}return t}var o={},a={activitys_leishen618:0},n=[];function s(i){if(o[i])return o[i].exports;var e=o[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=o,s.d=function(t,i,e){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)s.d(e,o,function(i){return t[i]}.bind(null,o));return e},s.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=i,r=r.slice();for(var h=0;h<r.length;h++)i(r[h]);var u=c;n.push([7,"chunk-vendors","chunk-common"]),e()})({7:function(t,i,e){t.exports=e("f00d")},c4a6:function(t,i,e){},f00d:function(t,i,e){"use strict";e.r(i);e("55dd"),e("4917"),e("7514"),e("e7e5");var o=e("d399"),a=(e("8a58"),e("e41f")),n=(e("cadf"),e("551c"),e("f751"),e("097d"),e("9ab4")),s=(e("c4a6"),e("db4d"),e("60a3")),r=e("a925"),c=e("1157"),h=e.n(c),u=e("b311"),d=e.n(u),_=e("1396"),p=e("82f5"),g=e("9347"),l=e("7d83"),f=e("0a56"),w=e("2e54"),y=e("dfdf"),v=e("1831"),k=e("3c6c"),T=e("38e7"),b=e("c2e8"),D=e("955a"),m=e("ce89"),L=e("879b"),E=e("a306");s["c"].use(a["a"]),s["c"].use(o["a"]),s["c"].config.productionTip=!1,s["c"].use(r["a"]);var C=y["a"].getInstace(g["a"].REGION_CODE_1,g["a"].ZH_CN),P=_["a"].getInstance();P.init();var I=new r["a"](P),U=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.activity_id=203,i.isLoading=!1,i.activity_json=w["a"].getInstace("mobile",i.activity_id),i.appParam=y["a"].getInstace(),i.activityDetails_two=null,i.points_two=0,i.aCount_two=0,i.activity_id_two=205,i.awardListTwo=[],i.up_btn_show=!0,i.up_btn_show_timer=null,i.activityPackage=[{is_enjoy:1},{is_enjoy:1},{is_enjoy:1},{is_enjoy:1}],i.activityPackageId=0,i.dialog_win2=!1,i.chooseinfo=new k["w"],i.choosePriceInfo=new k["r"],i.showType=1,i.show_dialog=!1,i.show_reward=!1,i.show_recharge=!1,i.userDiscountList=[],i.userDiscount="",i}return n["c"](i,t),i.prototype.created=function(){return n["a"](this,void 0,void 0,function(){return n["d"](this,function(t){switch(t.label){case 0:return this.activityJson=this.activity_json,this.imageHeadUrl=p["a"].getImgBaseUrl(),this.chooseinfo=l["a"].getUserInfo(),this.account_token=l["a"].getUserToken().account_token,""==this.account_token&&(this.refer_code="请先登录!",this.refer_code_link="请先登录!"),this.getActivityId(),this.setBaseUrl(p["a"].getBaseUrl()),[4,this.getActivityPackage()];case 1:return t.sent(),this.checkEnvironment(),this.getActivityDetail(),this.getActivityTwoDetail(),this.getAwardList(),[4,this.getAwardListTwo()];case 2:return t.sent(),this.initAwardListTwo(),this.getReferActivitys(),this.getUserInfo(),this.getUserDiscount(),[2]}})})},i.prototype.mounted=function(){var t=this;this.up_btn_show_timer=setInterval(function(){t.up_btn_show=!t.up_btn_show},200)},i.prototype.getAwardListSuccess=function(){this.initAwardList()},i.prototype.getActivityTwoDetail=function(){return n["a"](this,void 0,void 0,function(){var t,i,e;return n["d"](this,function(o){switch(o.label){case 0:return""==this.account_token?[2]:0==this.activity_id_two?[2]:(t=v["a"].URL_ACTIVITY_DETAIL+this.activity_id_two,i=new E["a"],i.type=1,i.id=this.activity_id_two,i.plat_type=1,i.region_code=l["a"].getRegionCodes(),i.account_token=this.account_token,e=this,[4,this.http.get(t,i)]);case 1:return e.backData=o.sent(),this.backData.code==v["a"].HTTP_SUCCESS_NET_CODE?(this.activityDetails_two=this.backData.data.detail,this.points_two=this.backData.data.points,this.aCount_two=Math.floor(this.points_two/this.activityDetails_two.fee)):this.backData.code==v["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getAwardListTwo=function(){return n["a"](this,void 0,void 0,function(){var t,i,e,o,a,s,r,c,h,u,d,_,p;return n["d"](this,function(n){switch(n.label){case 0:return 0==this.activity_id_two?[2]:(t=v["a"].URL_ACTIVITY_PRESENT_LIST,i=new E["j"],i.activity_id=this.activity_id_two,i.present_type=0,i.size=50,e=this,[4,this.http.post(t,i)]);case 1:if(e.backData=n.sent(),this.backData.code==v["a"].HTTP_SUCCESS_NET_CODE){for(this.awardListTwo=this.backData.data.list,o=(new Date).getTime(),o>new Date("2019/7/9 15:30:00").getTime()&&(o=new Date("2019/7/9 15:30:00").getTime()),a=new Date("2019/6/18 15:30:00").getTime(),s=0;s<10;s++)r=a+Math.floor(Math.random()*(o-a)),c=g["a"].formatDateTime(r),h=Math.floor(65214*Math.random()),u=g["a"].getPhoneNum(),d={create_time:c,mail:"",mobile_num:u,nickname:"",title:"免单",user_id:h,user_name:""},this.awardListTwo.push(d);for(_ in this.awardListTwo)p="",""==p&&""!=this.awardListTwo[_]["nickname"]&&(p=this.awardListTwo[_]["nickname"]),""==p&&""!=this.awardListTwo[_]["mobile_num"]&&(p=this.awardListTwo[_]["mobile_num"]),""==p&&""!=this.awardListTwo[_]["mail"]&&(p=this.awardListTwo[_]["mail"]),""==p&&""!=this.awardListTwo[_]["user_name"]&&(p=this.awardListTwo[_]["user_name"]),this.awardListTwo[_]["nickname"]=p}return[2]}})})},i.prototype.initAwardListTwo=function(){this.awardListTwo.length<=7||h()(function(){setInterval(function(){var t=h()("#jilu_box02");t.animate({marginTop:"-30px"},400,function(){t.find("li").eq(0).appendTo(t),t.css("margin-top","0")})},2e3)})},Object.defineProperty(i.prototype,"activComponent",{get:function(){switch(this.showType){case 1:return"login-dialog";case 2:return"register-dialog";case 3:return"forget-dialog"}},enumerable:!0,configurable:!0}),i.prototype.toLogin=function(){this.showType=1},i.prototype.toRegister=function(){this.showType=2},i.prototype.toForgetPwd=function(){this.showType=3},i.prototype.alreadyLogin=function(t){0==t&&(this.show_dialog=!1,window.location.reload())},i.prototype.checkEnvironment=function(){h()(function(){var t=navigator.userAgent,i=(t.indexOf("Android")>-1||t.indexOf("Adr"),t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),window.navigator.userAgent.toLowerCase());"micromessenger"==i.match(/MicroMessenger/i)&&(C.platform=4)})},i.prototype.getUserInfo=function(){return n["a"](this,void 0,void 0,function(){var t,i,e,o;return n["d"](this,function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),this.isLoading=!0,t=g["a"].getUrlParam("account_token")||l["a"].getUserToken().account_token,""!=t?[3,1]:(this.tokenExpired(),[3,3]);case 1:return i=v["a"].URL_USER_INFO,e={account_token:t},o=this,[4,this.http.post(i,e)];case 2:o.backData=a.sent(),this.isLoading=!1,this.backData.code==v["a"].HTTP_SUCCESS_NET_CODE?(this.userInfo=this.backData.data,k["w"].getUserName(this.userInfo),k["w"].getUserAvatar(this.userInfo),k["w"].updateUserInfo(this.userInfo),this.checkisBinbMobile(this.userInfo,"app")):this.backData.code==v["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():this.getUserinfoFail(this.backData),a.label=3;case 3:return[3,5];case 4:return a.sent(),[3,5];case 5:return[2]}})})},i.prototype.getUserinfoFail=function(t){this.tokenExpired()},i.prototype.clickReverse=function(t){this.isBengin||(this.kp_index=t,this.onClickDraw())},i.prototype.onClickDraw=function(){if(!this.isBengin)if(""!=this.account_token){if(this.aCount<=0)return h()("body").addClass("body_fixed"),void(this.dialog_recharge=!0);this.isBengin=!0,this.onDraw(0,1e3)}else this.gotoLogin()},i.prototype.onClickDrawTwo=function(){this.isBengin||(""!=this.account_token?this.aCount_two<=0?this.dialog_recharge=!0:(this.isBengin=!0,this.isWin=!0,this.onDrawTwo(1e3,1e3)):this.gotoLogin())},i.prototype.onDrawTwo=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=0),n["a"](this,void 0,void 0,function(){var e,o,a,s,r;return n["d"](this,function(n){switch(n.label){case 0:return e=v["a"].URL_ACTIVITY_DRAW,o=this.account_token,a=new E["b"],a.activity_id=this.activity_id_two,a.account_token=o,s=this,[4,this.http.post(e,a)];case 1:return s.backData=n.sent(),r=this,this.backData.code==v["a"].HTTP_SUCCESS_NET_CODE?(this.awardInfo=this.backData.data,setTimeout(function(){r.onDrawWinTwo(r.backData)},t)):this.backData.code==v["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():setTimeout(function(){r.onDrawLoseTwo(r.backData)},i),[2]}})})},i.prototype.onDrawWinTwo=function(t){this.isBengin=!1,this.dialog_win2=!0,this.prize_name=t.data.title,this.prize_id=t.data.present_id,this.points_two=t.data.points,this.aCount_two=Math.floor(this.points_two/this.activityDetails_two.fee)},i.prototype.onDrawLoseTwo=function(t){this.isBengin=!1,this.isWin=!1,this.dialog_error=!0,this.dialog_msg=t.msg,this.points_two=t.data.points,this.aCount_two=Math.floor(this.points_two/this.activityDetails_two.fee)},i.prototype.closeDialog2=function(){this.isWin=!1,this.dialog_win2=!1,h()("body").removeClass("body_fixed")},i.prototype.getActivityPackage=function(){return n["a"](this,void 0,void 0,function(){var t,i,e;return n["d"](this,function(o){switch(o.label){case 0:return 0!=this.activity_id&&this.account_token?(t=v["a"].URL_ACTIVITY_PACKAGE,i=new E["d"],i.activity_id=this.activity_id,i.lang=this.appParam.language,i.region_code=l["a"].getRegionCodes(),i.account_token=this.account_token,e=this,[4,this.http.get(t,i)]):[2];case 1:return e.backData=o.sent(),this.backData.code==v["a"].HTTP_SUCCESS_NET_CODE?this.backData.data.length>0&&(this.activityPackage=this.backData.data[0].price.reverse(),this.activityPackageId=this.backData.data[0].package_id):this.backData.code==v["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getUserDiscount=function(){return n["a"](this,void 0,void 0,function(){var t,i,e,o;return n["d"](this,function(a){switch(a.label){case 0:return this.isLoading=!0,t=l["a"].getUserToken().account_token,i=v["a"].URL_USER_DISCOUNT,e={account_token:t,region_code:l["a"].getRegionCodes()},o=this,[4,this.http.post(i,e)];case 1:return o.backData=a.sent(),this.isLoading=!1,this.backData.code==v["a"].HTTP_SUCCESS_NET_CODE?(this.userDiscountList=this.backData.data,this.userDiscountList=this.userDiscountList.sort(function(t,i){var e=t.discount_value,o=i.discount_value;return o-e}),this.getUserDiscountSuccess()):this.backData.code==v["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():this.getUserDiscountError(),[2]}})})},i.prototype.getUserDiscountSuccess=function(){this.userDiscountList.length>0&&(this.userDiscount=this.userDiscountList[0].discount_code)},i.prototype.getUserDiscountError=function(){},i.prototype.gotoRecharge=function(t){return n["a"](this,void 0,void 0,function(){var i;return n["d"](this,function(e){switch(e.label){case 0:return i=g["a"].getUrlParam("account_token")||l["a"].getUserToken().account_token,""!=i?[3,1]:(this.gotoLogin(),[2]);case 1:return t.is_enjoy?[4,this.$refs.to_recharge.getUserInfo()]:[2];case 2:e.sent(),this.$refs.to_recharge.choosetaocanid=this.activityPackageId,this.$refs.to_recharge.activity_buy_type=618,this.choosePriceInfo=t,4!=this.appParam.platform?(this.dialog_recharge=!1,this.show_recharge=!this.show_recharge,h()("body").removeClass("body_fixed")):4===this.appParam.platform&&this.$refs.to_recharge.defaultPackageBuy(t),e.label=3;case 3:return[2]}})})},i.prototype.paySuccess=function(){this.getActivityDetail(),this.getActivityTwoDetail(),this.getActivityPackage()},i.prototype.gotoInvite=function(){this.onCloseRecharge(),window.location.href="#step1"},i.prototype.generateRefercodeLink=function(t){this.refer_code_link=p["a"].getWebBaseUrl()+"/leigod/kapai.html?refer_code="+t},i.prototype.copyRefercodeLink=function(){if(""!=this.account_token){var t=this,i=new d.a("#copyRefercodeLink",{text:function(){return t.refer_code_link}});i.on("success",function(i){i.clearSelection(),t.dialog_error=!0,t.dialog_msg="邀请链接已复制到剪切板！快去邀请好友充值获取时长卡吧！"})}else this.gotoLogin()},i.prototype.gotoRecord=function(){""!=this.account_token?(this.dialog_win=!1,this.dialog_win2=!1,this.show_reward=!0,this.$refs.to_reward.loadList()):this.gotoLogin()},i.prototype.closeReward=function(){this.show_reward=!1},i.prototype.gotoLogin=function(){this.show_dialog=!0,this.dialog_no_login=!1,h()("body").removeClass("body_fixed")},i.prototype.tokenExpired=function(t){void 0===t&&(t=null),l["a"].loginOut(),this.account_token="",this.userInfo=null,this.refer_code="请先登录!",this.refer_code_link="请先登录!"},i=n["b"]([Object(s["a"])({components:{"login-dialog":T["a"],"register-dialog":b["a"],"forget-dialog":D["a"],"recharge-dialog":m["a"],"reward-dialog":L["a"]}})],i),i}(f["a"]);new U({i18n:I}).$mount("#app")}});