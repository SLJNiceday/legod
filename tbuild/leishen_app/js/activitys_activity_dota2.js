(function(t){function i(i){for(var s,n,r=i[0],c=i[1],h=i[2],u=0,l=[];u<r.length;u++)n=r[u],a[n]&&l.push(a[n][0]),a[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(i);while(l.length)l.shift()();return o.push.apply(o,h||[]),e()}function e(){for(var t,i=0;i<o.length;i++){for(var e=o[i],s=!0,r=1;r<e.length;r++){var c=e[r];0!==a[c]&&(s=!1)}s&&(o.splice(i--,1),t=n(n.s=e[0]))}return t}var s={},a={activitys_activity_dota2:0},o=[];function n(i){if(s[i])return s[i].exports;var e=s[i]={i:i,l:!1,exports:{}};return t[i].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)n.d(e,s,function(i){return t[i]}.bind(null,s));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=i,r=r.slice();for(var h=0;h<r.length;h++)i(r[h]);var p=c;o.push([0,"chunk-vendors","chunk-common"]),e()})({0:function(t,i,e){t.exports=e("54ce")},"199d":function(t,i,e){t.exports=e.p+"img/wx.png"},"4bf86":function(t,i,e){t.exports=e.p+"img/rightArrow.png"},"4f80":function(t,i,e){t.exports=e.p+"img/nouse.png"},"54ce":function(t,i,e){"use strict";e.r(i);e("7514"),e("4917"),e("55dd"),e("e7e5");var s=e("d399"),a=(e("8a58"),e("e41f")),o=(e("cadf"),e("551c"),e("f751"),e("097d"),e("9ab4")),n=(e("eb65"),e("a2e5"),e("db4d"),e("1157")),r=e.n(n),c=e("60a3"),h=e("a925"),p=e("1396"),u=e("82f5"),l=e("9347"),d=e("7d83"),_=(e("6b54"),e("65d9")),g=e.n(_),f=e("a026"),k=e("1831"),y=e("a306"),v=e("3c6c"),b=e("b311"),m=e.n(b),w=e("ea9a"),T=e("a123"),x=e("d939"),C=e("ebb9");f["default"].use(s["a"]);var z=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.tipNotKaishi="活动暂未开始",i.tipisjieshu="活动已经结束",i.tipinvalidUser="当前活动只针对雷神超级会员，海外会员暂不可参与!",i.http=new k["a"],i.isLoading=!1,i.activity_id=0,i.isKaishi=!0,i.isJieshu=!1,i.isValidUser=!0,i.activity_ErrorTip="",i.activity_json=null,i.activityDetails=null,i.points=0,i.aCount=0,i.clock=new y["m"],i.canbuyTwice=!1,i.needtoCheck=!0,i.luck=new w["a"],i.roll_deg=0,i.kp_index=0,i.isBengin=!1,i.awardInfo=null,i.prize_name="",i.prize_id=-1,i.refer_code_link="邀请链接",i.refer_code="邀请码",i.myReferList=[],i.dialog_error=!1,i.dialog_msg="",i.dialog_recharge=!1,i.dialog_win=!1,i.tabIndex=0,i.joinleftfix=0,i.priceList=[],i.paytrans=new v["C"],i.awardList=[],i.imageHeadUrl="",i.awardRecordList=[],i.dialog_copy_ref_link=!1,i.dialog_copy_ref=!1,i.prize_img="",i.kp_list=[{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1},{prize_img_url:"",is_reverse:!1,btn_is_hide:!1}],i}return o["c"](i,t),i.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},i.prototype.canClick=function(){return!(!this.isKaishi||this.isJieshu||!this.isValidUser)||(this.isKaishi?this.isJieshu?this.activity_ErrorTip=this.tipisjieshu:this.activity_ErrorTip=this.tipinvalidUser:this.activity_ErrorTip=this.tipNotKaishi,!1)},i.prototype.checkEnvironment=function(){},i.prototype.getUserInfo=function(t){return o["a"](this,void 0,void 0,function(){var i,e,s,a;return o["d"](this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),this.isLoading=!0,i=l["a"].getUrlParam("account_token")||d["a"].getUserToken().account_token,""!=i?[3,1]:(this.tokenExpired(),[3,3]);case 1:return e=k["a"].URL_USER_INFO,s={account_token:i},a=this,[4,this.http.post(e,s)];case 2:a.backData=o.sent(),this.isLoading=!1,this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?(v["w"].getUserName(this.backData.data),v["w"].getUserAvatar(this.backData.data),v["w"].updateUserInfo(this.backData.data),this.needtoCheck&&this.checkisBinbMobile(this.backData.data,t),this.getUserinfoSuccess()):this.backData.code==k["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():this.getUserinfoFail(this.backData),o.label=3;case 3:return[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}})})},i.prototype.getUserinfoSuccess=function(){},i.prototype.getUserinfoFail=function(t){},i.prototype.tokenExpired=function(){},i.prototype.checkisBinbMobile=function(t,i){var e;if(e=t?Object.assign({},t):d["a"].getUserInfo(),e&&1==e.region_code&&""==e.mobile)if("app"==i)Object(s["a"])("为确保您账户的安全及正常使用，依《网络安全法》相关要求，即日起个人账户需绑定手机。"),setTimeout(function(){T["a"].gotoLogin("bind=bindMobile")},2e3);else if("pc"==i){var a=this.$t("public.share67").toString(),o=this.$t("public.share68").toString(),n=this.$t("public.share69").toString();this.$alert(o,a,{confirmButtonText:n,showClose:!1,customClass:"llz_bindMobile",callback:function(t){x["a"].webGotoUser(C["a"].getUserBaseUrl(),x["a"].HTML_NAME_LOGIN,"bind=bindMobile&to="+window.location.href)}})}},i.prototype.getReferActivitys=function(){return o["a"](this,void 0,void 0,function(){var t,i,e,s,a,n,r;return o["d"](this,function(o){switch(o.label){case 0:return t=k["a"].URL_USER_REFER_ACTIVITY,i={account_token:d["a"].getUserToken().account_token},e=this,[4,this.http.get(t,i)];case 1:if(e.backData=o.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE){for(r in s=this.backData.data,a=null,n=null,s)if(a=s[r].activity_info,n=s[r].user_code,a.id==this.activity_id){n.length<=0?this.getRefercode(a.type):(this.refer_code=n.refer_code,this.generateRefercodeLink(this.refer_code));break}}else this.backData.code==k["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired();return[2]}})})},i.prototype.getRefercode=function(t){return o["a"](this,void 0,void 0,function(){var i,e,s;return o["d"](this,function(a){switch(a.label){case 0:return i=k["a"].URL_USER_REFER,e=new v["s"],e.activity_id=this.activity_id,e.type=t,e.account_token=d["a"].getUserToken().account_token,s=this,[4,this.http.post(i,e)];case 1:return s.backData=a.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE&&(this.refer_code=this.backData.data.refer_code,this.generateRefercodeLink(this.refer_code)),[2]}})})},i.prototype.generateRefercodeLink=function(t){},i.prototype.getActivityDetail=function(){return o["a"](this,void 0,void 0,function(){var t,i,e,s,a,n;return o["d"](this,function(o){switch(o.label){case 0:return 0==this.activity_id?[2]:(t=k["a"].URL_ACTIVITY_DETAIL+this.activity_id,i=new y["a"],i.type=1,i.id=this.activity_id,i.plat_type=1,i.region_code=d["a"].getRegionCodes(),i.account_token=d["a"].getUserToken().account_token,e=this,[4,this.http.get(t,i)]);case 1:return e.backData=o.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?(this.activityDetails=this.backData.data.detail,this.points=this.backData.data.points,s=(new Date).getTime(),a=new Date(l["a"].formateTime(this.backData.data.detail.end_time)).getTime(),n=new Date(l["a"].formateTime(this.backData.data.detail.start_time)).getTime(),s>=a?(this.dialog_msg=this.tipisjieshu,this.dialog_error=!0,this.isJieshu=!0):s<n&&(this.dialog_msg=this.tipNotKaishi,this.dialog_error=!0,this.isKaishi=!1),this.getActivityDetailSuccess(this.backData.data.detail),this.getActivityCount()):this.backData.code==k["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getActivityDetailSuccess=function(t){},i.prototype.getActivityCount=function(){this.aCount=Math.floor(this.points/this.activityDetails.fee)},i.prototype.getActivityPackage=function(t){return o["a"](this,void 0,void 0,function(){var i,e;return o["d"](this,function(s){switch(s.label){case 0:return i=new y["d"],i.activity_id=this.activity_id,i.lang="zh_CN",i.region_code=1,i.account_token=d["a"].getUserToken().account_token,e=this,[4,this.http.get(t,i)];case 1:return e.backData=s.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?this.getActivityPackageSuccess(this.backData.data[0]):this.backData.code==k["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getActivityPackageSuccess=function(t){},i.prototype.paySuccess=function(){},i.prototype.getAwardList=function(){return o["a"](this,void 0,void 0,function(){var t,i,e,s,a;return o["d"](this,function(o){switch(o.label){case 0:return t=k["a"].URL_ACTIVITY_PRESENT_LIST,i=new y["j"],i.activity_id=this.activity_id,i.present_type=0,i.size=50,e=this,[4,this.http.post(t,i)];case 1:if(e.backData=o.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE){for(s in this.awardList=this.backData.data.list,this.awardList)a="",""==a&&""!=this.awardList[s]["nickname"]&&(a=this.awardList[s]["nickname"]),""==a&&""!=this.awardList[s]["mobile_num"]&&(a=this.awardList[s]["mobile_num"]),""==a&&""!=this.awardList[s]["mail"]&&(a=this.awardList[s]["mail"]),""==a&&""!=this.awardList[s]["user_name"]&&(a=this.awardList[s]["user_name"]),this.awardList[s]["nickname"]=a;this.getAwardListSuccess()}return[2]}})})},i.prototype.getAwardListSuccess=function(){this.initAwardList()},i.prototype.initAwardList=function(){},i.prototype.getReferList=function(t){return o["a"](this,void 0,void 0,function(){var i,e,s;return o["d"](this,function(a){switch(a.label){case 0:return i=k["a"].URL_ACTIVITY_REFER_LIST,e=new y["l"],e.account_token=d["a"].getUserToken().account_token,e.activity_id=this.activity_id,e.type=t,s=this,[4,this.http.post(i,e)];case 1:return s.backData=a.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?(this.myReferList=this.backData.data.list,this.getReferListSuccess()):this.backData.code==k["a"].HTTP_TOKEN_EXPIRE&&this.tokenExpired(),[2]}})})},i.prototype.getReferListSuccess=function(){},i.prototype.onDraw=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=0),o["a"](this,void 0,void 0,function(){var e,s,a,n,r;return o["d"](this,function(o){switch(o.label){case 0:return e=k["a"].URL_ACTIVITY_DRAW,s=d["a"].getUserToken().account_token,a=new y["b"],a.activity_id=this.activity_id,a.account_token=s,n=this,[4,this.http.post(e,a)];case 1:return n.backData=o.sent(),r=this,this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?(this.awardInfo=this.backData.data,setTimeout(function(){r.onDrawWin(r.backData)},t)):this.backData.code==k["a"].HTTP_TOKEN_EXPIRE?(this.tokenExpired(),this.isBengin=!1):setTimeout(function(){r.onDrawLose(r.backData)},i),[2]}})})},i.prototype.onDrawWin=function(t){var i=this;if(1==this.activity_json.choujiang_type&&(this.luck.speed=100,this.roll()),0==this.activity_json.choujiang_type&&(this.isBengin=!1,this.dialog_win=!0,this.prize_name=t.data.title,this.prize_id=t.data.present_id),2==this.activity_json.choujiang_type){var e=Math.ceil(3*Math.random())+5,s=0;switch(t.data.present_id){case 109:s=0+0*Math.random();break;case 108:s=0+0*Math.random()+60;break;case 107:s=0+0*Math.random()+120;break;case 106:s=0+0*Math.random()+180;break;case 105:s=0+0*Math.random()+240;break;case 110:s=0+0*Math.random()+300;break}this.roll_deg=this.roll_deg+(360-this.roll_deg%360)+360*e+s,r()("#roll_table").css({transform:"rotate("+this.roll_deg+"deg)",transition:"4s"}),setTimeout(function(){i.dialog_win=!0,i.isBengin=!1},4e3),this.prize_name=t.data.title,this.prize_id=t.data.present_id}if(3==this.activity_json.choujiang_type){if(-1!=l["a"].getOrigin().indexOf("localhost")||l["a"].isMobile())switch(t.data.present_id){case 83:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize01.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 82:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize02.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 80:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize03.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 79:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize04.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 81:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize05.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 78:this.kp_list[this.kp_index].prize_img_url="/images/kapai/kp_prize06.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break}else switch(t.data.present_id){case 83:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize01.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 82:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize02.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 80:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize03.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 79:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize04.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 81:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize05.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break;case 78:this.kp_list[this.kp_index].prize_img_url="./images/kapai/kp_prize06.png",this.kp_list[this.kp_index].btn_is_hide=!0,this.kp_list[this.kp_index].is_reverse=!0;break}setTimeout(function(){i.dialog_win=!0,i.isBengin=!1},1500),this.prize_name=t.data.title,this.prize_id=t.data.present_id}this.points=t.data.points,this.getActivityCount()},i.prototype.onDrawLose=function(t){this.isBengin=!1,this.dialog_error=!0,this.dialog_msg=t.msg,this.points=t.data.points,this.getActivityCount()},i.prototype.onClickAward=function(){},i.prototype.changeTabPage=function(t){},i.prototype.onClickGuize=function(){},i.prototype.onCloseGuize=function(){},i.prototype.onCloseRecharge=function(){this.dialog_recharge=!1,r()("body").removeClass("body_fixed")},i.prototype.closeDialog=function(){this.dialog_msg="",this.dialog_win=!1,this.dialog_error=!1,r()("body").removeClass("body_fixed")},i.prototype.onCloseNologin=function(){},i.prototype.continueDraw=function(){this.isBengin=!1,this.dialog_win=!1,this.dialog_msg=""},i.prototype.copyRefercodeLink=function(){if(l["a"].easyIsLogined()){var t=this,i=new m.a("#copyRefercodeLink",{text:function(){return t.refer_code_link}});i.on("success",function(i){i.clearSelection(),t.dialog_error=!0,t.dialog_msg="邀请链接已复制到剪切板！快去邀请好友注册获取抽奖机会吧！"})}else this.gotoLogin()},i.prototype.copyRefercode=function(){if(l["a"].easyIsLogined()){var t=this,i=new m.a("#copyRefercode",{text:function(){return t.refer_code}});i.on("success",function(i){i.clearSelection(),t.dialog_error=!0,t.dialog_msg="邀请码已复制到剪切板！快去邀请好友注册获取抽奖机会吧！"})}else this.gotoLogin()},i.prototype.pageScroll=function(t){var i=l["a"].scroll().top;this.joinleftfix=i<t?0:1},i.prototype.gotoLogin=function(){},i.prototype.gotoRecharge=function(t){},i.prototype.onClickDraw=function(){if(!this.isBengin){if(l["a"].easyIsLogined())return this.aCount<=0?(r()("body").addClass("body_fixed"),void(this.dialog_recharge=!0)):void(this.canClick()?(this.isBengin=!0,this.onDraw(1e3,1e3)):(this.dialog_msg=this.activity_ErrorTip,this.dialog_error=!0));this.gotoLogin()}},i.prototype.roll=function(){if(this.luck.times+=1,this.luck.roll(),this.luck.times>this.luck.cycle+10&&this.luck.prize==this.luck.index){clearTimeout(this.luck.timer),this.luck.prize=-1,this.luck.times=0;var t=this;setTimeout(function(){r()("body").addClass("body_fixed"),t.isBengin=!1,t.dialog_win=!0,t.dialog_msg=t.awardInfo.title,t.prize_name=t.awardInfo.title},500)}else{if(this.luck.times<this.luck.cycle)this.luck.speed-=10;else if(this.luck.times==this.luck.cycle){var i=4;switch(this.awardInfo.present_id){case 94:i=0;break;case 92:i=1;break;case 93:i=2;break;case 95:i=3;break;case 97:i=4;break;case 91:i=5;break;case 98:i=6;break;case 96:i=7;break;default:break}this.luck.prize=i}else this.luck.times>this.luck.cycle+10&&0==this.luck.prize&&7==this.luck.index||this.luck.prize==this.luck.index+1?this.luck.speed+=110:this.luck.speed+=20;this.luck.speed<40&&(this.luck.speed=40),this.luck.timer=setTimeout(this.roll,this.luck.speed)}return!1},i=o["b"]([g.a],i),i}(f["default"]),D=z,E=e("2e54"),S=e("dfdf"),L=e("38e7"),P=e("c2e8"),U=e("955a"),I=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{style:{height:t.discountshow?t.fullscreen:"auto"}},[s("div",{staticClass:"llz_huodongpage"},[s("div",{on:{click:t.showZhekou}},[s("van-row",{staticClass:"llz_zhekouRow"},[s("van-col",{staticClass:"llz_zhekouIcon",attrs:{span:"12"}},[s("img",{attrs:{src:e("e195"),alt:"折扣码",width:"23px"}}),t._v("\n                    折扣码(选填)\n                ")]),s("van-col",{staticClass:"llz_zhekouText",attrs:{span:"12"}},[s("span",{domProps:{textContent:t._s(t.zhekouTitle)}}),s("img",{staticStyle:{"margin-left":"8px"},attrs:{src:e("4bf86"),alt:"",width:"12px"}})])],1)],1),s("van-row",{directives:[{name:"show",rawName:"v-show",value:t.isWeixin,expression:"isWeixin"}],staticStyle:{width:"100%","margin-top":"37px","text-align":"center"}},[s("button",{staticClass:"llz_wxPay_btn",attrs:{type:"button"},on:{click:t.weixinBuy}},[s("img",{staticClass:"iconImg",attrs:{src:e("199d"),height:"26px;"}}),s("span",{staticClass:"llz_payWayText"},[t._v("微信支付")])])]),s("van-row",{directives:[{name:"show",rawName:"v-show",value:!t.isWeixin,expression:"!isWeixin"}],staticStyle:{width:"100%","margin-top":"24px"}},[s("van-col",{attrs:{span:"24"}},[s("button",{staticClass:"llz_wxPay_btn",attrs:{type:"button"},on:{click:function(i){return t.onChooseAndPay(1)}}},[s("img",{staticClass:"iconImg",attrs:{src:e("199d"),height:"26px;"}}),s("span",{staticClass:"llz_payWayText"},[t._v("微信支付")])])]),s("van-col",{staticStyle:{"margin-top":"14px"},attrs:{span:"24"}},[s("button",{staticClass:"llz_zfbPay_btn",attrs:{type:"button"},on:{click:function(i){return t.onChooseAndPay(2)}}},[s("img",{staticClass:"iconImg",attrs:{src:e("8e30"),height:"26px;"}}),s("span",{staticClass:"llz_payWayText"},[t._v("支付宝支付")])])])],1)],1),s("van-popup",{staticClass:"llz_zhekouDetails",staticStyle:{width:"100%"},attrs:{position:"right","lazy-render":!1},model:{value:t.discountshow,callback:function(i){t.discountshow=i},expression:"discountshow"}},[s("van-nav-bar",{attrs:{title:"折扣码管理","left-text":"","left-arrow":""},on:{"click-left":t.onClickBack}}),s("div",{staticClass:"discount_list",staticStyle:{height:"calc(100% - 47px)"}},[s("div",{staticClass:"discount_head"},[s("div",{staticClass:"discount_input",staticStyle:{border:"solid 1px #d8d8d8"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.zhekouTitle,expression:"zhekouTitle"}],staticStyle:{width:"70%",height:"100%"},attrs:{type:"text",placeholder:"请输入折扣码"},domProps:{value:t.zhekouTitle},on:{input:function(i){i.target.composing||(t.zhekouTitle=i.target.value)}}}),s("img",{staticStyle:{"margin-right":"16px"},attrs:{src:e("4f80"),alt:"",width:"20px"},on:{click:t.deleteDiscount}}),s("a",{staticClass:"llzconfirm_btn",on:{click:t.confirmZhekou}},[t._v("确定")])])]),s("p",{directives:[{name:"show",rawName:"v-show",value:t.discountList.length>0,expression:"discountList.length>0"}],staticClass:"llz_zhekouDesc"},[t._v("选择已有折扣码")]),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.discountList.length>0,expression:"discountList.length>0"}],staticClass:"discounts llz_discount"},t._l(t.discountList,function(i){return s("li",{staticClass:"flex_row_start llz_zhekouContent",on:{click:function(e){return t.checkDiscount(i)}}},[s("div",{staticClass:"llz_contentTitle"},[0==i.discount_type?s("div",{staticStyle:{"font-size":"24px",width:"100%","text-align":"center"}},[s("p",{staticStyle:{"line-height":"74px","font-size":"24px"}},[s("span",[t._v(t._s((100-i.discount_value)/10))]),s("span",[t._v("折")])])]):t._e(),1==i.discount_type?s("div",{staticStyle:{"font-size":"24px",width:"100%","text-align":"center"}},[s("p",{staticStyle:{"line-height":"74px","font-size":"24px"}},[s("span",[t._v(t._s(i.discount_value/100))]),s("span",[t._v("元")])])]):t._e()]),s("div",{staticClass:"llz_contentDetails"},[s("p",{staticStyle:{"font-size":"14px",color:"#323232"}},[s("span",{staticClass:"llz_detailTitle"},[t._v(t._s(i.title))]),s("button",{staticClass:"llz_detailBtn"},[t._v("使用")])]),s("p",{staticStyle:{"margin-top":"5px"}},[t._v("有效期至:"+t._s(i.expired_time))])])])}),0),s("a",{directives:[{name:"show",rawName:"v-show",value:t.discountList.length>0,expression:"discountList.length>0"}],staticClass:"discount_foot",on:{click:t.clearDiscount}},[t._v("不使用优惠券")]),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.discountList.length,expression:"discountList.length==0"}],staticStyle:{height:"300px","text-align":"center"}},[s("img",{staticStyle:{"margin-top":"200px"},attrs:{src:e("90a4"),alt:""}}),s("p",{staticStyle:{"text-align":"center","font-size":"20px","margin-top":"16px"}},[t._v("您暂无折扣码")])])])],1)],1)},R=[],O=(e("66b9"),e("b650")),A=(e("4d48"),e("d1e1")),N=(e("81e6"),e("9ffb")),j=(e("66cf"),e("343b")),B=(e("ac1e"),e("543e")),H=(e("4b0a"),e("2bb1")),M=(e("7844"),e("5596")),W=(e("0653"),e("34e9")),K=(e("be7f"),e("565f")),$=(e("e17f"),e("2241")),G=(e("fdfc"),e("42d1")),X=e("9d9a");c["c"].use(a["a"]),c["c"].use(s["a"]),c["c"].use($["a"]),c["c"].use(K["a"]),c["c"].use(W["a"]),c["c"].use(M["a"]),c["c"].use(H["a"]),c["c"].use(B["a"]),c["c"].config.productionTip=!1,c["c"].use(j["a"]),c["c"].use(A["a"]).use(N["a"]),c["c"].use(O["a"]),c["c"].config.productionTip=!1;S["a"].getInstace(l["a"].REGION_CODE_1,l["a"].ZH_CN);var F=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.userDiscountList=[],i.discountList=[],i.discount_code="",i.payType=1,i.payObj=new v["n"],i.discountshow=!1,i.zhekouTitle="",i.zheCode="",i.fullscreen="",i.isWeixin=!1,i.http=new k["a"],i.appParam=S["a"].getInstace(),i.apiPackage=new v["x"],i}return o["c"](i,t),i.prototype.created=function(){this.setBaseUrl(u["a"].getBaseUrl()),this.fullscreen=document.body.clientHeight+"px"},i.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},i.prototype.init=function(){return o["a"](this,void 0,void 0,function(){var t;return o["d"](this,function(i){switch(i.label){case 0:return[4,this.getUserPackage()];case 1:return t=i.sent(),t?this.getUserDiscount():this.$emit("cannotbuy"),[2]}})})},i.prototype.initPop=function(){var t=this;this.discountshow=!1,this.$nextTick(function(){t.filterDisount(),0==t.discountList.length?t.page_zhekou?(t.zheCode=t.page_zhekou,t.zhekouTitle=t.page_zhekou):(t.zheCode="",t.zhekouTitle=""):(t.zheCode=t.discountList[0].discount_code,t.zhekouTitle=t.discountList[0].title)})},i.prototype.wxinitPop=function(){var t=this;this.isWeixin=!0,this.discountshow=!1,this.$nextTick(function(){t.filterDisount(),0==t.discountList.length?t.page_zhekou?(t.zheCode=t.page_zhekou,t.zhekouTitle=t.page_zhekou):(t.zheCode="",t.zhekouTitle=""):(t.zheCode=t.discountList[0].discount_code,t.zhekouTitle=t.discountList[0].title)})},i.prototype.getUserDiscount=function(){return o["a"](this,void 0,void 0,function(){var t,i,e,s;return o["d"](this,function(a){switch(a.label){case 0:return t=d["a"].getUserToken().account_token,i=k["a"].URL_USER_DISCOUNT,e={account_token:t,region_code:d["a"].getRegionCodes()},s=this,[4,this.http.post(i,e)];case 1:return s.backData=a.sent(),this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?this.userDiscountList=this.backData.data:(this.backData.code,k["a"].HTTP_TOKEN_EXPIRE),[2]}})})},i.prototype.filterDisount=function(){var t=this;this.discountList=[],this.userDiscountList.map(function(i){if(i.price_ids.length>0)for(var e=0;e<i.price_ids.length;e++)i.price_ids[e]==t.choosepriceinfo.price_id&&t.discountList.push({discount_code:i.discount_code,title:i.title,discount_value:i.discount_value,discount_type:i.discount_type,expired_time:i.expired_time})}),this.discountList.length>0&&this.discountList.sort(function(t,i){return i.discount_value-t.discount_value})},i.prototype.showZhekou=function(){this.discountshow=!0},i.prototype.clearDiscount=function(){this.discountshow=!1,this.zheCode="",this.zhekouTitle=""},i.prototype.deleteDiscount=function(){this.zheCode="",this.zhekouTitle=""},i.prototype.checkDiscount=function(t){this.discountshow=!1,this.zheCode=t.discount_code,this.zhekouTitle=t.title},i.prototype.confirmZhekou=function(){if(this.discountList.length>0){for(var t=!1,i=0;i<this.discountList.length;i++)this.discountList[i].title==this.zhekouTitle&&(t=!0);t||(this.zheCode=this.zhekouTitle)}else this.zheCode=this.zhekouTitle;this.discountshow=!1},i.prototype.onClickBack=function(){this.discountshow=!1},i.prototype.getUserPackage=function(){return o["a"](this,void 0,void 0,function(){var t,i,e,s,a,n,r,c;return o["d"](this,function(o){switch(o.label){case 0:return t=d["a"].getUserToken().account_token,i=k["a"].URL_USER_PACKAGE,e={account_token:t,region_code:d["a"].getRegionCodes()},[4,this.http.post(i,e)];case 1:if(s=o.sent(),s.code==k["a"].HTTP_SUCCESS_NET_CODE){for(a=d["a"].getUserInfo(),n=s.data,r="1",c=0;c<n.length;c++)if(n[c].package_id==a.package_id){"1"==n[c].include_region_codes&&(this.apiPackage=Object.assign({},n[c])),r=n[c].include_region_codes;break}return 1==a.is_switch_package?[2,!0]:"1"==r?[2,!0]:[2,!1]}return[2,!0]}})})},i.prototype.onChooseAndPay=function(t){this.payType=t,this.onPay(this.appParam.platform+1,2)},i.prototype.weixinBuy=function(){this.payType=6,this.onPay(this.appParam.platform+1,2)},i.prototype.onPay=function(t,i){return void 0===t&&(t=0),void 0===i&&(i=1),o["a"](this,void 0,void 0,function(){var e,s,a,n,r,c;return o["d"](this,function(o){switch(o.label){case 0:return e=this,s=k["a"].URL_USER_PACKAGE_BUY,a=d["a"].getUserToken().account_token,n=l["a"].getUrlParam("refer_code"),r=new v["o"],r.account_token=a,r.invoice_from=r.switchFrom(t),r.package_id=this.package_id,r.pay_type=this.payType,r.price_id=this.choosepriceinfo.price_id,r.pay_plat=i,r.src_channel=d["a"].getSrcChannel(),r.os_type=localStorage.getItem(d["a"].STORAGES_OS_TYPE),n&&(r.refer_code=n),""!=this.zheCode&&(r.discount_code=this.zheCode),c=this,[4,this.http.post(s,r)];case 1:return c.backData=o.sent(),this.payObj.pay_url="",this.backData.code==k["a"].HTTP_SUCCESS_NET_CODE?(this.payObj=this.backData.data,this.onBeginpaySuccess()):this.backData.code==k["a"].HTTP_TOKEN_EXPIRE?this.tokenExpired():this.backData.code==k["a"].HTTP_ERROR_WX_NOBIND?(this.onBeginpayError("系统检测到您未绑定公众号，将自动为您跳转至登录页进行绑定..."),setTimeout(function(){e.gotologin()},2e3)):this.onBeginpayError(this.backData.msg),[2]}})})},i.prototype.onBeginpaySuccess=function(){if(4===this.appParam.platform)this.initWxConfig(this.payObj.pay_url);else{G["a"].getInstance().getFactory(this.appParam.platform);window.location.href=this.payObj.pay_url}},i.prototype.onBeginpayError=function(t){s["a"].fail(t)},i.prototype.initWxConfig=function(t){return o["a"](this,void 0,void 0,function(){var i,e,a,n,r;return o["d"](this,function(o){switch(o.label){case 0:return i=k["a"].URL_WAP_WX_SIGN,e={},a=this,[4,this.http.post(i,e)];case 1:return a.backData=o.sent(),n=this.backData.data,n.appId||Object(s["a"])("微信服务器繁忙，请稍后..."),wx.config({debug:!1,appId:n.appId,timestamp:n.timestamp.toString(),nonceStr:n.nonceStr,signature:n.signature,jsApiList:["closeWindow","chooseWXPay"]}),r=this,wx.ready(function(){r.onWxGzhPay(t)}),[2]}})})},i.prototype.onWxGzhPay=function(t){var i=this;wx.chooseWXPay({timestamp:t.timeStamp,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,success:function(t){Object(s["a"])("充值成功!"),i.$emit("paysuccess")}})},i.prototype.tokenExpired=function(){var t=X["a"].getTipsMsg(X["a"].KEY_NOTIF_LOGIN_FAILURE);Object(s["a"])(t),d["a"].loginOut()},i.prototype.gotologin=function(){this.$emit("tologin")},o["b"]([Object(c["b"])()],i.prototype,"choosepriceinfo",void 0),o["b"]([Object(c["b"])()],i.prototype,"package_id",void 0),o["b"]([Object(c["b"])()],i.prototype,"page_zhekou",void 0),i=o["b"]([Object(c["a"])({})],i),i}(c["c"]),V=F,Y=V,J=e("2877"),Z=Object(J["a"])(Y,I,R,!1,null,null,null),q=Z.exports,Q=e("879b");c["c"].use(a["a"]),c["c"].use(s["a"]),c["c"].config.productionTip=!1,c["c"].use(h["a"]);var tt=S["a"].getInstace(l["a"].REGION_CODE_1,l["a"].ZH_CN),it=p["a"].getInstance();it.init();var et=new h["a"](it),st=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.choosePriceInfo=new v["r"],i.activity_id=220,i.activity_json=E["a"].getInstace("mobile",i.activity_id),i.appParam=S["a"].getInstace(),i.showType=1,i.show_dialog=!1,i.show_reward=!1,i.show_recharge=!1,i.userDiscountList=[],i.userDiscount="",i.activityPackageId=0,i.canbuyTwice=!0,i}return o["c"](i,t),i.prototype.created=function(){return o["a"](this,void 0,void 0,function(){return o["d"](this,function(t){return this.imageHeadUrl=u["a"].getImgBaseUrl(),this.setBaseUrl(u["a"].getBaseUrl()),this.checkEnvironment(),this.getUserInfo("app"),this.getActivityDetail(),this.getActivityPackage(k["a"].URL_ACTIVITY_SPECIAL_PACKAGE),[2]})})},i.prototype.mounted=function(){this.getAwardList()},i.prototype.getUserinfoSuccess=function(){this.getActivityDetail(),this.$refs.to_recharge.init()},i.prototype.getActivityDetailSuccess=function(t){this.isKaishi&&!this.isJieshu||s["a"].fail(this.dialog_msg)},i.prototype.getActivityPackageSuccess=function(t){this.activityPackageId=t.package_id;var i=t.price.sort(function(t,i){return i.price_is_recommend-t.price_is_recommend});this.priceList=i.slice(0)},Object.defineProperty(i.prototype,"activComponent",{get:function(){switch(this.showType){case 1:return"login-dialog";case 2:return"register-dialog";case 3:return"forget-dialog"}},enumerable:!0,configurable:!0}),i.prototype.gotoLogin=function(){this.show_dialog=!0,this.showType=1},i.prototype.toRegister=function(){this.showType=2},i.prototype.toForgetPwd=function(){this.showType=3},i.prototype.gotoRecord=function(){l["a"].easyIsLogined()?(this.dialog_win=!1,this.show_reward=!0,this.$refs.to_reward.loadList()):this.gotoLogin()},i.prototype.onCloseRecharge=function(){this.dialog_recharge=!1,window.location.href="#recharge",r()("body").removeClass("body_fixed")},i.prototype.closeReward=function(){this.show_reward=!1},i.prototype.cannotBuy=function(){this.isValidUser=!1,s["a"].fail(this.tipinvalidUser)},i.prototype.gotoRecharge=function(t){return o["a"](this,void 0,void 0,function(){return o["d"](this,function(i){return l["a"].easyIsLogined()?(this.canClick()?(this.choosePriceInfo=Object.assign({},t),this.dialog_recharge=!1,this.show_recharge=!this.show_recharge,4!=this.appParam.platform?this.$refs.to_recharge.initPop():4===this.appParam.platform&&this.$refs.to_recharge.wxinitPop()):(this.dialog_error=!0,this.dialog_msg=this.activity_ErrorTip),[2]):(this.gotoLogin(),[2])})})},i.prototype.paySuccess=function(){return o["a"](this,void 0,void 0,function(){return o["d"](this,function(t){return this.getActivityDetail(),this.canbuyTwice&&this.$refs.to_recharge.getUserDiscount(),[2]})})},i.prototype.alreadyLogin=function(){this.show_dialog=!1,this.needtoCheck=!1,this.getUserInfo("app"),this.getActivityDetail()},i.prototype.checkEnvironment=function(){r()(function(){var t=navigator.userAgent,i=(t.indexOf("Android")>-1||t.indexOf("Adr"),t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),window.navigator.userAgent.toLowerCase());"micromessenger"==i.match(/MicroMessenger/i)&&(tt.platform=4)})},i.prototype.getUserinfoFail=function(t){this.tokenExpired()},i.prototype.initAwardList=function(){this.awardList.length<=7||r()(function(){setInterval(function(){var t=r()("#jilu_box");t.animate({marginTop:"-52px"},400,function(){t.find("li").eq(0).appendTo(t),t.css("margin-top","0")})},2e3)})},i.prototype.tokenExpired=function(){d["a"].loginOut()},i.prototype.onChangeLanguage=function(t){it.changeLanguage(t),et.locale=it.locale,this.appParam.language=t},i=o["b"]([Object(c["a"])({components:{"login-dialog":L["a"],"register-dialog":P["a"],"forget-dialog":U["a"],"recharge-dialog":q,"reward-dialog":Q["a"]}})],i),i}(D);new st({i18n:et}).$mount("#app")},"8e30":function(t,i,e){t.exports=e.p+"img/zhifb.png"},"90a4":function(t,i,e){t.exports=e.p+"img/noDiscount.png"},a2e5:function(t,i,e){},e195:function(t,i,e){t.exports=e.p+"img/discount.png"}});