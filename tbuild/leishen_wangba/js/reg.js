(function(e){function s(s){for(var i,r,a=s[0],h=s[1],c=s[2],p=0,f=[];p<a.length;p++)r=a[p],o[r]&&f.push(o[r][0]),o[r]=0;for(i in h)Object.prototype.hasOwnProperty.call(h,i)&&(e[i]=h[i]);u&&u(s);while(f.length)f.shift()();return n.push.apply(n,c||[]),t()}function t(){for(var e,s=0;s<n.length;s++){for(var t=n[s],i=!0,a=1;a<t.length;a++){var h=t[a];0!==o[h]&&(i=!1)}i&&(n.splice(s--,1),e=r(r.s=t[0]))}return e}var i={},o={reg:0},n=[];function r(s){if(i[s])return i[s].exports;var t=i[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=e,r.c=i,r.d=function(e,s,t){r.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,s){if(1&s&&(e=r(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var i in e)r.d(t,i,function(s){return e[s]}.bind(null,i));return t},r.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(s,"a",s),s},r.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],h=a.push.bind(a);a.push=s,a=a.slice();for(var c=0;c<a.length;c++)s(a[c]);var u=h;n.push([5,"chunk-vendors","chunk-common"]),t()})({"0e92":function(e,s,t){"use strict";t.r(s);t("a481"),t("0fb7"),t("450d");var i=t("f529"),o=t.n(i),n=(t("1951"),t("eedf")),r=t.n(n),a=(t("6611"),t("e772")),h=t.n(a),c=(t("1f1a"),t("4e4b")),u=t.n(c),p=(t("be4f"),t("896a")),f=t.n(p),m=(t("28b2"),t("c7ad")),g=t.n(m),_=(t("f225"),t("89a9")),d=t.n(_),l=(t("f4f9"),t("c2cc")),b=t.n(l),v=(t("7a0f"),t("0f6c")),E=t.n(v),T=(t("560b"),t("dcdc")),I=t.n(T),O=(t("10cb"),t("f3ad")),S=t.n(O),y=(t("cadf"),t("551c"),t("f751"),t("097d"),t("9ab4")),M=t("60a3"),k=(t("db4d"),t("8487")),C=t("f164"),P=t("a888"),R=(t("78fc"),t("a2c3")),D=t("63ed"),N=t("dd13"),w=t("b971"),G=t("9d9a"),U=t("90ae"),A=t("3825"),K=t("9347"),$=t("255e"),H=t("649b"),Y=t("fe3e");M["c"].use(S.a),M["c"].use(I.a),M["c"].use(E.a),M["c"].use(b.a),M["c"].use(d.a),M["c"].use(g.a),M["c"].use(f.a),M["c"].use(u.a),M["c"].use(h.a),M["c"].use(r.a),M["c"].prototype.$message=o.a,A["a"].addLanguage(K["a"].ZH_CN);var L=U["a"].getInstance();L.initNoRefresh();var x=function(e){function s(){var s=null!==e&&e.apply(this,arguments)||this;return s.username="",s.password="",s.imgCaptchaM=new D["a"],s.imgCaptchaKey="",s.smscode="",s.groupid="61714",s.checkcode="",s.isAgree=!1,s.reg_step=parseInt(K["a"].getUrlParam(A["a"].STORAGES_REG_STEP))||1,s.reg_type=parseInt(K["a"].getUrlParam(A["a"].BUSINESS_TYPE))>=0?parseInt(K["a"].getUrlParam(A["a"].BUSINESS_TYPE)):-1,s.business_free=0,s.options=[],s.improveInfo=new R["c"],s.business_status="",s.is_show_business_status=!1,s.business_check_info="",s.imageUrl="",s.improveAddress=[],s.business_sysname="",s.business_homepage="",s.improveDetailAddress="",s.improveLicensePic="",s.logoImgurl="",s.licenseImgurl="",s.usertoken={token:""},s.netbar=100,s.xmlParse=new H["a"],s.smsCountDownNum=0,s.isLoading=!1,s}return y["c"](s,e),s.prototype.setBaseUrl=function(e){this.xmlHttp.setBaseUrl(e)},s.prototype.created=function(){},s.prototype.mounted=function(){this.setBaseUrl(N["a"].getBaseUrl()),this.onGetCaptcha(),this.changeUploadUrl(),this.onGetProvince(),this.isFromUser(),1==this.reg_type&&"1"!=this.business_status&&(this.is_show_business_status=!0)},s.prototype.isFromUser=function(){if(K["a"].getUrlParam(A["a"].STORAGES_REG_TOKEN)){var e=JSON.parse(localStorage.getItem(A["a"].STORAGES_USER_INFO));this.improveInfo.title=e.title,this.netbar=e.number,this.improveInfo.locked_ip=e.locked_ip,this.improveDetailAddress=e.address,this.improveInfo.tel=e.tel,this.improveInfo.qq=e.qq,this.improveInfo.business_manager=e.business_manager,this.improveInfo.business_weixin=e.business_weixin,this.improveInfo.business_id=e.business_id,this.improveInfo.business_homepage=e.business_homepage,this.improveInfo.business_sysname=e.business_sysname,this.improveLicensePic=e.business_license,this.business_status=e.business_status,this.business_check_info=e.business_check_info}},s.prototype.onGetToken=function(){var e=K["a"].getUrlParam(A["a"].STORAGES_REG_TOKEN)||A["a"].getCookie(A["a"].STORAGES_REG_TOKEN);this.usertoken.token=e},s.prototype.changeUploadUrl=function(){this.logoImgurl=N["a"].getBaseUrl()+P["a"].DO_SERVEFACE,this.licenseImgurl=N["a"].getBaseUrl()+P["a"].DO_SAVE_BUSINESSLICENCE},s.prototype.onGetCaptcha=function(){return y["a"](this,void 0,void 0,function(){var e,s,t;return y["d"](this,function(i){switch(i.label){case 0:return e=P["a"].GETCHECK_CODE,s=new D["b"],t=this,[4,this.xmlHttp.get(e,s)];case 1:return t.backData=i.sent(),this.backData.code==P["a"].HTTP_SUCCESS_NET_CODE&&(this.imgCaptchaM=this.backData,this.imgCaptchaKey=this.imgCaptchaM.key),[2]}})})},s.prototype.getCaptcha=function(){this.onGetCaptcha()},s.prototype.onSmsCode=function(){return w["a"].checkPhone(this.username)?w["a"].checkimgVerificatioCode(this.checkcode)?void this.GetSmscode():""==this.checkcode?(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_IMGCAPTCHACODE_EMPTY),this.$message.error(this.notifMessage),!1):(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_IMGCAPTCHACODE_ERROR),this.$message.error(this.notifMessage),!1):""==this.username?(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_PHONE_EMPTY),this.$message.error(this.notifMessage),!1):(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_PHONE_ERROR),this.$message.error(this.notifMessage),!1)},s.prototype.GetSmscode=function(){return y["a"](this,void 0,void 0,function(){var e,s,t,i,o=this;return y["d"](this,function(n){switch(n.label){case 0:return e=P["a"].DOSENDREGSMS,s=new R["g"],s.key=this.imgCaptchaKey,s.tel=this.username,s.regcode=this.checkcode,this.isLoading=!0,t=this,[4,this.xmlHttp.post(e,s)];case 1:return t.backData=n.sent(),this.isLoading=!1,this.backData.code==P["a"].HTTP_SUCCESS_NET_CODE?(this.smsCountDownNum=60,i=this,K["a"].countDown(this.smsCountDownNum,1,function(e){i.smsCountDownNum=e})):(this.$message.error(this.backData.msg),setTimeout(function(){o.onGetCaptcha()},500)),[2]}})})},s.prototype.submitRegOne=function(){return w["a"].checkPhone(this.username)?w["a"].checkimgVerificatioCode(this.checkcode)?w["a"].checkSmscode(this.smscode)?w["a"].checkPwd(this.password)?void this.onPhoneRegister():""==this.password?(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_PASSWORD_EMPTY),this.$message.error(this.notifMessage),!1):(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_PASSWORD_ERROR),this.$message.error(this.notifMessage),!1):""==this.smscode?(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_SMSCODE_EMPTY),this.$message.error(this.notifMessage),!1):(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_SMSCODE_ERROR),this.$message.error(this.notifMessage),!1):""==this.checkcode?(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_IMGCAPTCHACODE_EMPTY),this.$message.error(this.notifMessage),!1):(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_IMGCAPTCHACODE_ERROR),this.$message.error(this.notifMessage),!1):""==this.username?(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_PHONE_EMPTY),this.$message.error(this.notifMessage),!1):(this.notifMessage=G["a"].getTipsMsg(G["a"].KEY_NOTIF_PHONE_ERROR),this.$message.error(this.notifMessage),!1)},s.prototype.onPhoneRegister=function(){var e=P["a"].URL_WBOP_DO_REG,s=new R["f"];s.username=this.username,s.tel=this.username,s.key=this.imgCaptchaKey,s.checkcode=this.checkcode,s.password=this.password,s.groupid=this.groupid,s.smscode=this.smscode,s.number=this.netbar,s.business_type=this.reg_type,s.business_free=this.business_free,this.onRegister(e,s)},s.prototype.onRegister=function(e,s){return y["a"](this,void 0,void 0,function(){var t,i,o,n=this;return y["d"](this,function(r){switch(r.label){case 0:return this.isLoading=!0,t=this,[4,this.xmlHttp.post(e,s)];case 1:return t.backData=r.sent(),this.backData.code==P["a"].HTTP_SUCCESS_NET_CODE?(this.isLoading=!1,i=this.backData.token,A["a"].setCookie(A["a"].STORAGES_REG_TOKEN,i),1==this.reg_type&&(o=this.backData.biztoken,A["a"].setCookie(A["a"].STORAGES_BIZTOKEN,o)),this.reg_step=2,this.improveInfo.tel=this.username):(this.isLoading=!1,this.$message.error(this.backData.msg),setTimeout(function(){n.onGetCaptcha()},500)),[2]}})})},s.prototype.chooseRegType=function(e){this.reg_type=e},s.prototype.onGetProvince=function(){return y["a"](this,void 0,void 0,function(){var e;return y["d"](this,function(s){switch(s.label){case 0:return[4,$["a"].getInstance().getProvince()];case 1:return e=s.sent(),this.options=e,[2]}})})},s.prototype.selectProvince=function(){var e=this.improveAddress.join("").replace("市辖区","").replace("县","");this.improveInfo.address=e},s.prototype.logoAvatarSuccess=function(e,s){e=this.xmlParse.parseXML(e);var t=e.xml.items;if(t.result==P["a"].HTTP_TOKEN_EXPIRE)this.$message.error("填写超时,请联系客服处理");else if(t.code!=P["a"].HTTP_SUCCESS_NET_CODE)return this.$message.error("图片有损坏,请更换图片"),!1;this.imageUrl=URL.createObjectURL(s.raw)},s.prototype.beforeAvatarUpload=function(e){this.onGetToken();var s=e.size/1024<300;return s||this.$message.error("上传头像图片大小不能超过 300K!"),s},s.prototype.licenseSuccess=function(e,s){e=this.xmlParse.parseXML(e);var t=e.xml.items;if(t.result==P["a"].HTTP_TOKEN_EXPIRE)this.$message.error("填写超时,请联系客服处理");else if(t.code!=P["a"].HTTP_SUCCESS_NET_CODE)return this.$message.error("图片有损坏,请更换图片"),!1;this.improveLicensePic=t.url+"?n="+new Date},s.prototype.beforeLicenseUpload=function(e){this.onGetToken();var s=e.size/1024<2048;return s||this.$message.error("上传头像图片大小不能超过 2M!"),s},s.prototype.backPre=function(){this.reg_type=-1,this.reg_step=1},s.prototype.reSendDetailInfo=function(){this.is_show_business_status=!1},s.prototype.submitRegTwo=function(){if(this.onGetToken(),this.improveInfo.token=this.usertoken.token,this.improveInfo.address+=this.improveDetailAddress,this.improveInfo.business_license=this.improveLicensePic,this.improveInfo.number=this.netbar,!this.improveInfo.title||!this.improveInfo.locked_ip||!this.improveInfo.address||!this.improveInfo.business_id||!this.improveInfo.business_license||!this.improveInfo.business_manager)return this.$message.error("请完善信息"),!1;this.netBarcheckip(this.improveInfo.locked_ip)&&this.onModi(this.improveInfo)},s.prototype.submitRegThree=function(){if(this.onGetToken(),this.improveInfo.token=this.usertoken.token,this.improveInfo.address+=this.improveDetailAddress,this.improveInfo.business_license=this.improveLicensePic,this.improveInfo.business_sysname=this.business_sysname,this.improveInfo.business_homepage=this.business_homepage,this.improveInfo.number=this.netbar,!this.improveInfo.title||!this.improveInfo.address||!this.improveInfo.business_id||!this.improveInfo.business_license||!this.improveInfo.business_manager)return this.$message.error("请完善信息"),!1;this.onModi(this.improveInfo)},s.prototype.onModiSuccess=function(e){this.reg_step=3},s.prototype.onModiFail=function(e){this.$message.error(e.msg)},s=y["b"]([Object(M["a"])({components:{"header-nav":k["a"],"footer-nav":C["a"]}})],s),s}(Y["a"]);s["default"]=x,new x({}).$mount("#login")},5:function(e,s,t){e.exports=t("0e92")}});