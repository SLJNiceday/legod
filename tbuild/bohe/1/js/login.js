(function(t){function e(e){for(var i,s,r=e[0],c=e[1],u=e[2],h=0,l=[];h<r.length;h++)s=r[h],n[s]&&l.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);p&&p(e);while(l.length)l.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],i=!0,r=1;r<o.length;r++){var c=o[r];0!==n[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=o[0]))}return t}var i={},n={login:0},a=[];function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var p=c;a.push([8,"chunk-vendors","chunk-common"]),o()})({"0331":function(t,e,o){"use strict";o.r(e);o("be4f"),o("450d");var i=o("896a"),n=o.n(i),a=(o("6611"),o("e772")),s=o.n(a),r=(o("1f1a"),o("4e4b")),c=o.n(r),u=(o("46a1"),o("e5f2")),p=o.n(u),h=(o("cadf"),o("551c"),o("f751"),o("097d"),o("9ab4")),l=(o("8e56"),o("60a3")),g=o("90ae"),_=(o("6b54"),o("1831")),d=o("7d83"),f=o("3c6c"),y=o("9d9a"),T=o("6821f"),S=o.n(T),E=o("255e"),O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.errorMsg="",e.loginType=0,e.country_code_list=[],e.countryCode={code:"",group:"",ico:"",iso_code:"",name:""},e.country_code="",e.phone="",e.email="",e.phonePassword="",e.emailPassword="",e.isKeepPw=!1,e.isPwMd5=!1,e.areaCodeList=[],e.areaCodeListArr=[],e.username="",e.commonPsaaword="",e.http=new _["a"],e.isLoading=!1,e.loadingMsg="",e.notifTitle=y["a"].getTipsMsg(y["a"].KEY_NOTIF_SUCCESS_TITLE),e.notifMessage="",e.notifType="success",e.notifNum=0,e}return h["c"](e,t),e.prototype.init=function(){var t=localStorage.getItem(d["a"].STORAGES_PHONE);null!=t&&"undefined"!=t&&(this.phone=t,this.username=t);var e=localStorage.getItem(d["a"].STORAGES_EMAIL);null!=e&&"undefined"!=e&&(this.email=e,this.username=e),this.changeLoginType(0)},e.prototype.execute=function(){},e.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},e.prototype.getAreaCodeList=function(){return h["a"](this,void 0,void 0,function(){var t,e,o,i,n;return h["d"](this,function(a){switch(a.label){case 0:return t=_["a"].URL_AUTH_COUNTRY,e={},o=this,[4,this.http.get(t,e)];case 1:if(o.backData=a.sent(),this.backData.code==_["a"].HTTP_SUCCESS_NET_CODE)for(n in this.country_code=this.backData.data.now_country,i=localStorage.getItem(d["a"].STORAGES_PHONE_REGION),null!=i&&void 0!=i&&(this.country_code=i),this.backData.data.list_country)this.areaCodeList.push(this.backData.data.list_country[n]);return[2]}})})},e.prototype.getAreaCodeInfoList=function(t){return h["a"](this,void 0,void 0,function(){var e,o,i,n,a,s,r,c,u,p=this;return h["d"](this,function(h){switch(h.label){case 0:return[4,E["a"].getInstance().getRegincode(t)];case 1:return e=h.sent(),o=this,[4,E["a"].getInstance().getCounteyCode(t)];case 2:if(o.backData=h.sent(),this.backData.code==_["a"].HTTP_SUCCESS_NET_CODE){for(this.areaCodeListArr=[],this.countryCode=this.backData.data.list_country.filter(function(t){return t.code==e.mobile_code})[0],i=localStorage.getItem(d["a"].STORAGES_PHONE_REGION),null!=i&&"undefined"!=i&&(this.countryCode=this.backData.data.list_country.filter(function(t){return t.code==i})[0]),this.country_code=this.countryCode.code,this.backData.data.list_country.map(function(t){for(var e=!1,o=0;o<p.backData.data.top_country.length;o++)t.code==p.backData.data.top_country[o].code&&(e=!0);e||p.areaCodeListArr.push(t)}),n=0,a=[],s={label:"",options:[]},r=0;r<this.areaCodeListArr.length;r++)r==this.areaCodeListArr.length-1?(c={label:"",options:[]},c.label=this.areaCodeListArr[r].group,c.options=this.areaCodeListArr.slice(n,r+1),a.push(c)):this.areaCodeListArr[r].group!=this.areaCodeListArr[r+1].group&&(u={label:"",options:[]},u.label=this.areaCodeListArr[r].group,u.options=this.areaCodeListArr.slice(n,r+1),a.push(u),n=r+1);s.options=this.backData.data.top_country,a.unshift(s),this.country_code_list=a}return[2]}})})},e.prototype.changeLoginType=function(t){this.loginType=t;var e=null;0!=t||this.isPwMd5||(e=localStorage.getItem(d["a"].STORAGES_PHONE_PW),null==e&&(e="")),1!=t||this.isPwMd5||(e=localStorage.getItem(d["a"].STORAGES_EMAIL_PW),null==e&&(e="")),this.isKeepPw=""!=e,this.isPwMd5=!1,0==t&&(this.phonePassword=e),1==t&&(this.emailPassword=e)},e.prototype.onPasswordInput=function(t){if(0==t){var e=localStorage.getItem(d["a"].STORAGES_PHONE_PW);if(this.phonePassword==e)return}if(1==t){e=localStorage.getItem(d["a"].STORAGES_EMAIL_PW);if(this.emailPassword==e)return}this.isPwMd5=!0},e.prototype.onPhoneLogin=function(){var t=_["a"].URL_AUTH_LOGIN,e=this.phonePassword;this.isPwMd5&&(e=S()(this.phonePassword).toString());var o=new f["i"];o.country_code=this.country_code,o.username=this.phone,o.password=e,o.src_channel=d["a"].getSrcChannel(),localStorage.setItem(d["a"].STORAGES_PHONE,this.phone),localStorage.setItem(d["a"].STORAGES_USERNAME,this.phone),localStorage.setItem(d["a"].STORAGES_PHONE_REGION,this.country_code),this.isKeepPw?(localStorage.setItem(d["a"].STORAGES_PHONE_PW,e),localStorage.setItem(d["a"].STORAGES_PW,e)):(localStorage.removeItem(d["a"].STORAGES_PHONE_PW),localStorage.removeItem(d["a"].STORAGES_PHONE_REGION)),this.loginIn(t,o)},e.prototype.onEmaillLogin=function(){var t=_["a"].URL_AUTH_LOGIN,e=this.emailPassword;this.isPwMd5&&(e=S()(this.emailPassword).toString());var o=new f["i"];o.username=this.email,o.password=e,o.src_channel=d["a"].getSrcChannel(),localStorage.setItem(d["a"].STORAGES_EMAIL,this.email),localStorage.setItem(d["a"].STORAGES_USERNAME,this.email),this.isKeepPw?(localStorage.setItem(d["a"].STORAGES_EMAIL_PW,e),localStorage.setItem(d["a"].STORAGES_PW,e)):localStorage.removeItem(d["a"].STORAGES_EMAIL_PW),this.loginIn(t,o)},e.prototype.loginIn=function(t,e){return h["a"](this,void 0,void 0,function(){var o,i;return h["d"](this,function(n){switch(n.label){case 0:return this.isLoading=!0,this.loadingMsg=y["a"].getTipsMsg(y["a"].KEY_LOADING),o=this,[4,this.http.post(t,e)];case 1:return o.backData=n.sent(),this.backData.code==_["a"].HTTP_SUCCESS_NET_CODE?(this.isLoading=!1,i=this.backData.data,d["a"].addUserToken(i.login_info),d["a"].addUserInfo(i.user_info),this.onLoginSuccess()):(this.isLoading=!1,this.onLoginFaild(this.backData)),[2]}})})},e.prototype.onLoginSuccess=function(){},e.prototype.onLoginFaild=function(t){},e=h["b"]([l["a"]],e),e}(l["c"]),m=o("53f9"),P=o("b971"),I=(o("db4d"),o("b9c5")),w=o("d939"),b=o("827d"),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"third_login_head"},[o("p",{staticClass:"third_login_title"},[t._v(t._s(t.$t("login.l26")))])]),o("p",{staticClass:"third_login_msg"},[t._v(t._s(t.$t("login.l27")))]),o("ul",{staticClass:"third_login"},[o("li",{staticClass:"third_login_type"},[o("a",{attrs:{href:"https://open.weixin.qq.com/connect/qrconnect?appid=wxa2f4d7b57bb97e5a&redirect_uri=https://api.bohe.com/api/auth/open/wx&response_type=code&scope=snsapi_login&state="+t.webParam.region_code+"_0_"+t.languageType+"_1&connect_redirect=1#wechat_redirect"}},[o("i",{staticClass:"third_login_wechat third_login_icon"})])]),o("li",{staticClass:"third_login_type"},[o("a",{attrs:{href:"https://graph.qq.com/oauth2.0/show?which=Login&display=pc&response_type=code&client_id=101502267&redirect_uri=https://api.bohe.com/api/auth/open/qq&state="+t.webParam.region_code+"_0_"+t.languageType+"_1&scope=get_user_info"}},[o("i",{staticClass:"third_login_qq third_login_icon"})])]),o("li",{staticClass:"third_login_type"},[o("a",{attrs:{href:"https://api.weibo.com/oauth2/authorize?client_id=1072947333&response_type=code&state="+t.webParam.region_code+"_0_"+t.languageType+"_1&redirect_uri=https://api.bohe.com/api/auth/open/sina"}},[o("i",{staticClass:"third_login_weibo third_login_icon"})])]),0==t.webParam.region_code?o("li",{staticClass:"third_login_type"},[o("a",{on:{click:t.onClickOpenFacebook}},[o("i",{staticClass:"third_login_facebook third_login_icon"})])]):t._e(),0==t.webParam.region_code?o("li",{staticClass:"third_login_type"},[t._m(0)]):t._e()])])},k=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a",{attrs:{id:"googleBtn"}},[o("i",{staticClass:"third_login_google third_login_icon"})])}],A=function(){function t(){this.open_id="",this.state="",this.open_type=0}return t.OPEN_TYPE_GOOGLE=8,t.OPEN_TYPE_TWITTER=9,t.OPEN_TYPE_FACEBOOK=10,t}(),L=(function(){function t(){}}(),o("65d9")),R=o.n(L),C=o("1157"),M=o.n(C),N=o("463f"),G=(o("386d"),o("28a5"),function(){function t(){this.authorize_url="https://api.twitter.com/oauth/authenticate?oauth_token=",this.step1_method="POST",this.step1_url="https://twitter.com/oauth/request_token",this.step1_nonce=Math.ceil(100*Math.random()).toString(),this.step1_timestamp=Math.floor((new Date).getTime()/1e3).toString()}return t.prototype.init=function(t,e){var o=this.getOAuthStr(t,e),i=null,n=new XMLHttpRequest;n.withCredentials=!0,n.addEventListener("readystatechange",function(){4===this.readyState&&console.log(this.responseText)}),n.open("POST","https://twitter.com/oauth/request_token"),n.setRequestHeader("Authorization",o),n.setRequestHeader("cache-control","no-cache"),n.send(i)},t.prototype.getSignature=function(t,e){this.step1_nonce,this.step1_timestamp;var o="";return o},t.prototype.getOAuthStr=function(t,e){var o=this.getSignature(t,e),i='OAuth oauth_consumer_key=\\"'+t+'\\",oauth_signature_method=\\"HMAC-SHA1\\"';return i+=',oauth_timestamp=\\"'+this.step1_timestamp+'\\",oauth_nonce=\\"'+this.step1_nonce,i+='\\",oauth_version=\\"1.0\\",oauth_signature=\\"'+o+'\\"',i},t.prototype.closePopup=function(){this.popup&&!this.popup.closed&&this.popup.close()},t.prototype.getUrlQueryObject=function(t){var e,o={};if(!t)return!1;for(var i=t.slice(1).split("&"),n=0;n<i.length;n++)e=i[n].split("="),o[e[0]]=e[1];return o},t.prototype.sendError=function(t,e){var o={success:!1,message:t||"Some Error Occurred"};"function"===typeof e&&e(o)},t.prototype.getOAuthToken=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4!=this.readyState);else{if(0===this.status)return t("Internet Disconnected/Connection Timeout");try{var e=JSON.parse(this.response);t(null,e)}catch(o){t(o.message)}}},e.open("GET",this.request_url,!0),e.send()},t.prototype.authorize=function(t){if(!this.popup)return t("Popup Not initialized");this.popup.location.href=this.authorize_url+this.oauth_token;var e=function e(){setTimeout(function(){return this.popup.closed?t(null,this.getUrlQueryObject(this.popup.location.search)):e()},25)};e()},t.prototype.connect=function(t){if(!this.request_url)return this.sendError("Request URL not provided",t);this.popup=window.open(null,"_blank","height=400,width=800,left=250,top=100,resizable=yes",!0),this.getOAuthToken(function(e,o){return e?(this.closePopup(),this.sendError(e,t)):o.success?(this.oauth_token=o.oauth_token,void this.authorize(function(e,o){return e?(this.closePopup(),this.sendError(e,t)):o&&o.oauth_token?o.oauth_token!==this.oauth_token?this.sendError("Invalid OAuth Token received from Twitter.",t):void t({success:!0,oauth_token:o.oauth_token,oauth_verifier:o.oauth_verifier}):(this.closePopup(),this.sendError("OAuth Token not Found",t))})):(this.closePopup(),this.sendError(o.message,t))})},t}()),U=G,F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.facebookIsInit=!1,e.googleIsInit=!1,e.twitterUtil=null,e.http=new _["a"],e.isLoading=!1,e}return h["c"](e,t),e.prototype.execute=function(){},e.prototype.setBaseUrl=function(t){this.http.setBaseUrl(t)},e.prototype.init=function(){},e.prototype.initFaceBookSdk=function(t){N["a"].log("facebook初始化...");var e=this;M()(document).ready(function(){M.a.ajaxSetup({cache:!0}),M.a.getScript("https://connect.facebook.net/en_US/sdk.js",function(){FB.init({appId:t,version:"v3.2"}),N["a"].log("facebook初始化完成!"),e.facebookIsInit=!0,e.sdkInitSuccess(A.OPEN_TYPE_FACEBOOK)})})},e.prototype.onOpenFacebook=function(){if(this.facebookIsInit){var t=this;FB.login(function(e){e.authResponse?(N["a"].log("face登录成功!",e),t.loginSuccess(e.authResponse.userID,A.OPEN_TYPE_FACEBOOK)):alert("login error!")})}},e.prototype.initTwitterSdk=function(t,e){null==this.twitterUtil&&(this.twitterUtil=new U),this.twitterUtil.init(t,e)},e.prototype.initGoogleSdk=function(t){N["a"].log("google sdk初始化...");var e=this;M()(document).ready(function(){M.a.ajaxSetup({cache:!0}),M.a.getScript("https://apis.google.com/js/api:client.js",function(){gapi.load("auth2",function(){e.googleAuth2=gapi.auth2.init({client_id:t,cookiepolicy:"single_host_origin",scope:"profile"}),e.onOpenGoogle(document.getElementById("googleBtn")),N["a"].log("google初始化完成!"),e.googleIsInit=!0,e.sdkInitSuccess(A.OPEN_TYPE_GOOGLE)})})})},e.prototype.sdkInitSuccess=function(t){},e.prototype.onOpenGoogle=function(t){var e=this;this.googleAuth2.attachClickHandler(t,{},function(t){var o=e.googleAuth2.currentUser.get().getBasicProfile();N["a"].log("google登录成功!",o),e.loginSuccess(o.getId(),A.OPEN_TYPE_GOOGLE)},function(t){console.log(t)})},e.prototype.loginSuccess=function(t,e){},e.prototype.autoForeignlogin=function(t,e){return h["a"](this,void 0,void 0,function(){var o;return h["d"](this,function(i){return o=t,o+="?open_id="+e.open_id,o+="&state="+e.state,o+="&open_type="+e.open_type,window.location.href=o,[2]})})},e=h["b"]([R.a],e),e}(l["c"]),D=F,Y=o("9347"),H=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.webParam=I["a"].getInstace(),e.base_url="",e.languageType="",e.facebook_appId="182452479351836",e.twitter_appId="15926672",e.twitter_secret="MVA4G99tUJ1FRpierp3I5KLmknBTxQqMMXv5FhV7hLOKf",e.google_appId="356035932087-e3rp0iottdavj4b09sgjo9kmc3887ov8.apps.googleusercontent.com",e}return h["c"](e,t),e.prototype.created=function(){this.languageType=Y["a"].getLanguageType(this.webParam.language),this.setBaseUrl(m["a"].getBaseUrl()),this.base_url=m["a"].getBaseUrl(),this.webParam.region_code==Y["a"].REGION_CODE_0&&(this.initFaceBookSdk(this.facebook_appId),this.initGoogleSdk(this.google_appId))},e.prototype.onClickOpenFacebook=function(){this.facebookIsInit&&this.onOpenFacebook()},e.prototype.onClickOpenGoogle=function(){},e.prototype.loginSuccess=function(t,e){if(""!=t&&null!=t){N["a"].log("授权userId:"+t);var o=new A;o.open_id=t,o.open_type=e,o.state=this.webParam.region_code+"_0"+this.languageType;var i=m["a"].getBaseUrl()+_["a"].URL_AUTH_FOREIGN_LOGIN;this.autoForeignlogin(i,o)}else alert("authorization failed!!")},e=h["b"]([l["a"]],e),e}(D),K=H,B=K,j=o("2877"),q=Object(j["a"])(B,v,k,!1,null,null,null),W=q.exports,x=o("a925");l["c"].prototype.$notify=p.a,l["c"].use(c.a),l["c"].use(s.a),l["c"].use(n.a),l["c"].config.productionTip=!1,l["c"].use(x["a"]);I["a"].getInstace();var z=g["a"].getInstance();z.init();var $=new x["a"](z),J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.webParam=I["a"].getInstace(),e}return h["c"](e,t),e.prototype.created=function(){m["a"].log("登录"),this.setBaseUrl(m["a"].getBaseUrl()),this.init(),this.getAreaCodeInfoList(m["a"].getWebBaseUrl())},e.prototype.mounted=function(){},e.prototype.goHome=function(){w["a"].backHome()},e.prototype.onChangeLoginType=function(t){this.changeLoginType(t)},e.prototype.onLogin=function(){var t=!0,e="";if(0==this.loginType){if("86"==this.country_code&&!P["a"].checkPhone(this.phone)&&t&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PHONE_ERROR),t=!1,""==this.phone&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PHONE_EMPTY),t=!1)),this.isPwMd5?""==this.phonePassword&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PASSWORD_EMPTY),t=!1):!P["a"].checkRemberPwd(this.phonePassword)&&t&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PASSWORD_ERROR),t=!1,""==this.phonePassword&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PASSWORD_EMPTY),t=!1)),!t)return void this.$notify({title:y["a"].getTipsMsg(y["a"].KEY_NOTIF_ERROR_TITLE),message:e,type:"warning"});this.setLoadingStatuas(!0),this.onPhoneLogin()}else{if(!P["a"].checkEmail(this.email)&&t&&(P["a"].checkAccount(this.email)||(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_ACCOUNT_ERROR),t=!1),""==this.email&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_ACCOUNT_EMPTY),t=!1)),this.isPwMd5?""==this.emailPassword&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PASSWORD_EMPTY),t=!1):!P["a"].checkRemberPwd(this.emailPassword)&&t&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PASSWORD_ERROR),t=!1,""==this.emailPassword&&(e=y["a"].getTipsMsg(y["a"].KEY_NOTIF_PASSWORD_EMPTY),t=!1)),!t)return void this.$notify({title:y["a"].getTipsMsg(y["a"].KEY_NOTIF_ERROR_TITLE),message:e,type:"warning"});this.setLoadingStatuas(!0),this.onEmaillLogin()}},e.prototype.onLoginSuccess=function(){this.notifTitle=y["a"].getTipsMsg(y["a"].KEY_NOTIF_SUCCESS_TITLE),this.notifType="success",this.notifMessage=y["a"].getTipsMsg(y["a"].KEY_NOTIF_LOGIN),this.notifNum++;this.isLoading=!0;var t=Y["a"].getUrlParam("to");if(""!=t){var e=parseInt(Y["a"].getUrlParam("page"));setTimeout(function(){w["a"].toPage(t,e)},1e3)}else setTimeout(function(){w["a"].backUser()},1e3)},e.prototype.onLoginFaild=function(t){this.notifTitle=y["a"].getTipsMsg(y["a"].KEY_NOTIF_ERROR_TITLE),this.notifType="warning",this.notifMessage=t.msg,this.notifNum++},e.prototype.passwordInput=function(t){this.onPasswordInput(t)},e.prototype.onSelectCountryCode=function(t){this.country_code=t},e.prototype.setLoadingStatuas=function(t){this.isLoading=t,this.loadingMsg=y["a"].getTipsMsg(y["a"].KEY_LOADING)},e=h["b"]([Object(l["a"])({watch:{notifNum:function(t,e){this.$notify({title:Q.notifTitle,message:Q.notifMessage,type:Q.notifType})}},components:{"foot-nav-two":b["a"],"oauth-login":W}})],e),e}(O),Q=new J({i18n:$}).$mount("#app")},8:function(t,e,o){t.exports=o("0331")}});